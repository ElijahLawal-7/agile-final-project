(window.webpackJsonp=window.webpackJsonp||[]).push([[12],{JdaY:function(module,e,t){"use strict";t.r(e);var r=t("BJ98"),n=t.n(r),a=t("q1tI"),s=t.n(a),o=t("sQ/U"),i=t("EdUP"),u=t("kwmr"),d=t("+LJP"),c=t("pR6o"),l=t("S+eF"),f=t.n(l),S=t("fw5G"),h=t.n(S),p=t("DnuM"),g=t("15pW"),bootstrapPromise=function(e){var t=Object(p.a)("/api/courses.v1",{type:"rest"}),r=(new h.a).addQueryParam("q","slug").addQueryParam("slug",e).addQueryParam("fields","certificates,courseTypeMetadata.v1(courseTypeMetadata)").addQueryParam("includes","courseTypeMetadata").addQueryParam("showHidden",!0);return f()(t.get(r.toString())).then((function(t){var r;if("notFound"===t.errorCode)return null;var n=t.elements[0],a=n.id,s=n.certificates,o=null===(r=t.linked["courseTypeMetadata.v1"][0])||void 0===r?void 0:r.courseTypeMetadata;return g.d.courseId=a,g.d.courseSlug=e,{courseId:a,courseCertificates:s,courseTypeMetadata:o}}))},m=t("IG+7"),loadCourseV1=function(e,t){if(e.getStore(m.a).haveCourseIdentifiersLoaded())return f()();if(!t)throw new Error("Missing courseSlug");return bootstrapPromise(t).then((function(r){var n=r.courseId,a=r.courseCertificates,s=r.courseTypeMetadata;if(!n)throw new Error("Missing courseId");return e.dispatch("SET_COURSE_IDENTIFIERS",{courseId:n,courseSlug:t,courseCertificates:a,courseTypeMetadata:s}),{courseId:n,courseSlug:t,courseCertificates:a,courseTypeMetadata:s}})).catch((function(r){console.error("Error getting courseId and courseCertificates from courseSlug: ".concat(t,": "),r,r.stack);var n="",a=[],s={};return e.dispatch("SET_COURSE_IDENTIFIERS",{courseId:"",courseSlug:t,courseCertificates:a,courseTypeMetadata:s}),f()({courseId:"",courseSlug:t,courseCertificates:a})}))},v=t("E4RX"),I=t("b+2U"),O=t("fghW"),E=t("xiyk"),D=t("++Ya"),L=t("QMiy"),C=t("ihi0"),b=t("IA/e"),s12nOwnershipPromiseFactory=function(e,t){var r=o.a.get().id,n=Object(D.c)([r,"Specialization",e]),a=Object(L.a)(n,{productType:"Specialization"}).then((function(e){var r=e.elements[0],n=r.s12nCourseOwnerships;if(t)return r=Object.assign({},r,{s12nCourseOwnerships:n||[]});return r=Object.assign({},r,{s12nCourseOwnerships:new C.a(n||[])}),new b.a(r)})).fail((function(){if(t)return{id:Object(D.c)([r,e]),userId:r,productId:e,s12nCourseOwnerships:{}};return new b.a({id:Object(D.c)([r,e]),userId:r,productId:e,s12nCourseOwnerships:new C.a})}));return a.done(),a},loadS12n=function(e,t){if(e.getStore(O.a).hasLoaded())return f()();var r;return Object(E.b)(t,o.a.get().id).then((function(e){var t=(r=e).elements,n=t&&t[0];return n&&o.a.isAuthenticatedUser()?s12nOwnershipPromiseFactory(n.id,!0):f()()})).then((function(t){return e.dispatch("LOAD_S12N",{rawS12ns:r,rawOwnership:t}),{rawS12ns:r,rawOwnership:t}}))},loadCourseDomains=function(e){var t=Object(p.a)("/api/domains.v1",{type:"rest"});if(void 0!==e.getStore(m.a).domains)return f()();return f()(t.get("?fields=id,name")).then((function(t){e.dispatch("LOAD_DOMAINS",t.elements)}))},A=t("TSOT"),w=Object(A.a)("/api/onDemandCourseSchedules.v1"),P=function getCourseSchedule(e){var t=new h.a(e).addQueryParam("fields","defaultSchedule");return f()(w.get(t.toString()))},R=t("uJqh"),courseSchedule=function(e){if(!e)throw new Error("`courseId` is required to get course schedule.");return P(e).then(R.a).then((function(e){var t;return e.elements[0].defaultSchedule.periods}))},y=t("qgMw"),k=t("lqQ6"),loadCourseSchedule=function(e,t){if(e.getStore(y.a).hasLoaded())return f()();if(!t)return f.a.reject(new k.a("courseId must be provided."));return courseSchedule(t).then((function(t){e.dispatch("LOAD_COURSE_SCHEDULE",t)}))},j=t("hw75"),loadCourseReferences=function(e,t){var r=Object(A.a)("/api/onDemandReferences.v1",{type:"rest"}),n=(new h.a).addQueryParam("courseId",t).addQueryParam("q","courseListed").addQueryParam("fields","name,shortId,slug,content").addQueryParam("includes","assets");return f()(r.get(n.toString())).then((function(t){e.dispatch("LOAD_REFERENCES_LIST",t.elements)}))},M=t("tPFS"),U=Object(A.a)("/api/onDemandHomeProgress.v1",{type:"rest"}),T=function getHomeProgress(e){var t="".concat(o.a.get().id,"~").concat(e),r=new h.a(t).addQueryParam("fields","modulesCompleted,modulesPassed");return f()(U.get(r.toString()))},loadCourseHomeProgress=function(e,t){if(e.getStore(M.a).hasLoaded())return f()();return o.a.isAuthenticatedUser()?T(t).then((function(t){t.elements&&t.elements.length&&e.dispatch("LOAD_HOME_PROGRESS",t.elements[0])})).fail((function(){e.dispatch("LOAD_HOME_PROGRESS",{modulesCompleted:[],modulesPassed:[]})})):(e.dispatch("LOAD_HOME_PROGRESS",{modulesCompleted:[],modulesPassed:[]}),f()())},H=t("8c4I"),N=function loadComputedModels(e,t){var r=t.courseSlug,n=t.courseId;if(e.getStore(H.a).hasLoaded())return f()();return f.a.all([loadCourseDomains(e),loadS12n(e,n),Object(j.a)(e,r),loadCourseSchedule(e,n),loadCourseReferences(e,n),loadCourseHomeProgress(e,n)]).then((function(){e.dispatch("LOAD_COMPUTED_MODELS")}))},G=t("3tO9"),F=t.n(G),x=t("F/us"),Q=t.n(x),q=t("lvha"),V=t("QU0K"),B=t("Doqk"),J=t("8kE/"),W=function membershipsData(e){return Object(q.b)(B.a.build(V.a.prototype.resourceName,e))},z=W,Y=Object(J.a)(W),K=t("oCg5"),X=t("7eiT"),Z=t("FOnF"),promises_memberships=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Y(e).then((function(t){if(t.linked&&t.linked["onDemandSessions.v1"]&&t.linked["onDemandSessionMemberships.v1"]){var r=Q()(t.linked["onDemandSessions.v1"]).groupBy("courseId"),n=Q()(t.linked["onDemandSessionMemberships.v1"]).groupBy("sessionId"),a=Object.keys(n);t.elements.forEach((function(e){var t=r[e.courseId]||[];if(t.length){var s=t.filter((function(e){return a.indexOf(e.id)>=0}));if(s.length){var o=new Z.b(s).getLastSession();e.onDemandSessionId=o.id,e.onDemandSessionMemberships=s.map((function(e){return n[e.id]}))}}}))}if(t.linked&&t.linked["v1Details.v1"]&&(t.linked["courses.v1"]=Q()(t.linked["courses.v1"]).map((function(e){if("v1.session"===e.courseType||"v1.capstone"===e.courseType){e.v1Details=e.id;var r=Q()(t.linked["v1Sessions.v1"]).reduce((function(t,r){return r.courseId===e.id&&t.push(r.id.toString()),t}),[]);e.v1Sessions=r}return e}))),t.linked&&t.linked["v2Details.v1"]&&(t.linked["courses.v1"]=Q()(t.linked["courses.v1"]).map((function(e){return"v2.ondemand"===e.courseType&&(e.v2Details=Q()(t.linked["v2Details.v1"]).findWhere({id:e.id})),e}))),t.linked&&t.linked["vcMemberships.v1"]){var s=Q()(t.linked["vcMemberships.v1"]).pluck("id");t.elements=Q()(t.elements).map((function(e){return Q()(s).contains(e.id)&&(e.vcMembershipId=e.id),e}))}if(t.linked&&t.linked["courses.v1"]){var o=Q()(t.linked["courses.v1"]).pluck("id");t.elements=Q()(t.elements).chain().filter((function(e){return Q()(o).contains(e.courseId)})).compact().value()}if(t.linked&&t.linked["signatureTrackProfiles.v1"]&&Q()(t.elements).each((function(e){e.signatureTrackProfile=e.userId})),e.rawData)return t;if(e.withPaging)return{elements:Object(K.a)(X.a.prototype.resourceName,t),paging:t.paging};return Object(K.a)(X.a.prototype.resourceName,t)})).fail((function(t){if(e.rawData)return null;return new X.a}))},ee={showHidden:!0,fields:["courseId","grade"],includes:{vcMembership:{fields:["certificateCode","grade","grantedAt"]},course:{fields:[]}}},te=function loadCertificateData(e,t){var r=t.courseId,n=t.userId,a;if(e.getStore("CertificateStore").hasLoaded())return f()();return(a=n?promises_memberships(F()(F()({id:"".concat(n,"~").concat(r)},ee),{},{rawData:!0})).then((function(t){e.dispatch("LOAD_MEMBERSHIPS",t)})):f()().then((function(){e.dispatch("LOAD_MEMBERSHIPS",null)}))).done(),a},re=t("fHlo"),ne=t("udpv"),ae=Object(A.a)("/api/onDemandDeadlineSettings.v1",{type:"rest"}),se={getStartTime:function getStartTime(e){var t=(new h.a).addQueryParam("q","byUserAndCourse").addQueryParam("userId",o.a.get().id).addQueryParam("courseId",e).toString();return f()(ae.get(t)).fail((function(e){console.error(e)}))},sendStartTime:function sendStartTime(e,t){var r={data:{userId:o.a.get().id,courseId:t,start:Date.now(),isEnabled:e}};return f()(ae.post("",r))},disableDeadlines:function disableDeadlines(e){return se.sendStartTime(!1,e)},getResetPreview:function getResetPreview(e,t){var r=(new h.a).addQueryParam("q","extendPreview").addQueryParam("userId",o.a.get().id).addQueryParam("courseId",e).addQueryParam("extendedAt",Date.now()).toString();f()(ae.get(r)).then(t).fail((function(e){console.error(e)})).done()},resetDeadlines:function resetDeadlines(e){var t={data:{userId:o.a.get().id,courseId:e,extendedAt:Date.now()}},r=(new h.a).addQueryParam("action","extend").toString();return f()(ae.post(r,t))}},oe=se,ie=se.getStartTime,ue=se.sendStartTime,de=se.disableDeadlines,ce=se.getResetPreview,le=se.resetDeadlines,fe=t("ML/G"),Se=t("GnyC"),he=function receiveDeadlines(e,t){var r=t.deadlines,n=r.isEnabled,a=r.moduleDeadlines;n?e.dispatch("LOAD_COURSE_DEADLINES",{moduleDeadlines:a}):e.dispatch("DISABLE_DEADLINES")},pe=function enableDeadlines(e){var t=e.getStore("CourseStore").getCourseId();return oe.sendStartTime(!0,t).fail((function(e){throw e})).then(R.a).then((function(t){var r=t.elements,n=r[0].start;return fe.a.pushV2(["open_course_home.welcome.emit.course_deadline_set",{first_week_due_time:n}]),e.executeAction(he,{deadlines:r[0]})}))},ge=function setDeadlinesIfEligible(e){var t=e.getStore("CourseStore"),r=e.getStore("CourseScheduleStore"),n=e.getStore("ProgressStore"),a=Object(Se.a)(t,r,n),s=t.getCourseId(),o=e.getStore("CourseMembershipStore").isEnrolled(),i=e.getStore("SessionStore");return Object(ne.a)(s)||i.isSessionsCourse()||1!==a||!o?f()():e.executeAction(pe,{})},me=function loadCourseDeadlines(e,t){var r=t.userId,n=e.getStore("CourseStore").getCourseId(),a=e.getStore("CourseMembershipStore").isEnrolled(),s=e.getStore("SessionStore"),o=e.getStore("CourseStore").isReal();if(!a||!r||Object(ne.a)(n))return f()();if(s.isSessionsEnabled()){if(s.isEnrolled()){var i=s.getSession(),u={moduleDeadlines:i.moduleDeadlines};u.itemDeadlines=i.itemDeadlines,e.dispatch("LOAD_COURSE_DEADLINES",u)}return f()()}return oe.getStartTime(n).then(R.a).then((function(t){var r,n=t.elements[0];return n?e.executeAction(he,{deadlines:n}):e.executeAction(ge,{})}))},ve=function disableDeadlines(e){var t=e.getStore("CourseStore").getCourseId();return oe.disableDeadlines(t).then((function(){return e.dispatch("DISABLE_DEADLINES")})).fail((function(e){throw e}))},Ie=function resetDeadlines(e,t){var r=t.userId,n=e.getStore("CourseStore").getCourseId();return oe.resetDeadlines(n).then((function(){return e.executeAction(me,{userId:r})})).fail((function(e){throw e}))},Oe=t("i6HE"),Ee=t("uYOU"),verificationDisplay=function(e,t,r,n){if(r&&e){var a=f.a.all([Object(Ee.a)(e,t,!0)]).spread((function(e){var t;return{isProductVerificationEnabled:r,productOwnership:e,s12nId:n}}),(function(){return null}));return a.done(),a}var s=f()(null);return s.done(),s},De=t("5ijc"),Le=function loadVerificationDisplay(e,t){var r=t.authenticated,n=t.userId,a=t.courseId,s=t.s12nId,o=t.isCourseVerificationEnabled;if(e.getStore(De.a).hasLoaded())return f()();return r?verificationDisplay(n,a,o,s).then((function(t){e.dispatch("LOAD_VERIFICATION_DISPLAY",t)})):(e.dispatch("LOAD_VERIFICATION_DISPLAY",null),f()())},Ce=t("ORjh"),be=t("EGED"),_e=t("Eq6n"),Ae=function loadUserGroupsForCourse(e,t){var r=t.courseId,n=t.userId;if(e.getStore("GroupSettingStore").hasLoaded())return f()();return Ce.a.myCourseGroupsWithSettings(n,r).then((function(t){var r=Q()(t.linked["groupSettings.v1"]).map((function(e){return new _e.a(e)})),n=t.linked["groups.v1"].map((function(e){return new be.a(e)})),a=t.elements;e.dispatch("LOADED_COURSE_GROUPS",{groups:n,groupSettings:r,groupMemberships:a})})).fail((function(t){e.dispatch("LOADED_COURSE_GROUPS",{})}))},we=function loadUserSessionGroupForCourse(e,t){var r=t.courseId,n=t.userId,a=t.sessionId;if(e.getStore("GroupSettingStore").hasSessionGroupLoaded())return f()();return Ce.a.getCourseSessionGroup(n,r,a).then((function(t){var r=t.elements[0];e.dispatch("LOADED_SESSION_GROUP",{sessionGroup:r})})).fail((function(t){e.dispatch("LOADED_SESSION_GROUP",{})}))},Pe=Object(p.a)("/api/onDemandCoursePresentGrades.v1",{type:"rest"}),Re,ye=function getPresentGrade(e){var t=e.userId,r=e.courseId,n=new h.a("/".concat(t,"~").concat(r)).addQueryParam("fields","grade,relevantItems,passingStateForecast");return f()(Pe.get(n.toString()))},ke=function loadCoursePresentGrade(e,t){var r=t.userId,n=t.courseId;if(e.getStore("CoursePresentGradeStore").hasLoaded())return f()();return r?f()(ye({userId:r,courseId:n})).then((function(t){var r=t.elements[0];e.dispatch("LOAD_COURSE_PRESENT_GRADE",{presentGrade:r})})).fail((function(t){e.dispatch("LOAD_COURSE_PRESENT_GRADE_FAIL",{})})):(e.dispatch("LOAD_COURSE_PRESENT_GRADE_FAIL",{}),f()())},je=t("wJWS"),Me=t("xPfO"),Ue=t("c2GL"),Te=t("sjlm"),He=t("knci"),Ne=t("TOZ3"),Ge=t("8WNh"),Fe,xe=function DataFetcherBody(e){var t=e.children;if(!t)return null;return(s.a.cloneElement(t,{}))},Qe=n()(Object(d.a)((function(e){return{courseSlug:e.params.courseSlug}})),Object(u.a)([Me.a,m.a,Ue.a,O.a,De.a,Te.a,H.a,M.a],(function(e,t,r,n,a,s,o,i){return{s12n:n.getS12n(),course:t.getMetadata(),courseId:t.getCourseId(),isEnrolled:r.isEnrolled(),sessionId:e.getSessionId(),isEnrolledInSession:e.isEnrolled(),s12nStoreHasLoaded:n.hasLoaded(),courseStoreHasLoaded:t.hasLoaded(),sessionStoreHasLoaded:e.hasLoaded(),verificationStoreHasLoaded:a.hasLoaded(),courseMembershipStoreHasLoaded:r.hasLoaded(),computedModelStoreHasLoaded:o.hasLoaded(),courseIdentifiersHaveLoaded:t.haveCourseIdentifiersLoaded(),courseViewGradeStoreHasLoaded:s.hasLoaded(),progressStoreHasLoaded:i.hasLoaded()}})),Object(c.a)((function(e,t){var r=t.courseSlug;e.executeAction(loadCourseV1,r)})),Object(i.a)((function(e){var t;return e.courseIdentifiersHaveLoaded})),Object(i.a)((function(e){var t;return!!e.courseId}),s.a.createElement(He.a,null)),Object(c.a)((function(e,t){var r=t.courseId;e.executeAction(re.a,r)})),Object(i.a)((function(e){var t;return e.courseMembershipStoreHasLoaded})),Object(i.a)((function(e){var t=e.isEnrolled;return o.a.isSuperuser()||t}),s.a.createElement(He.a,null)),Object(c.a)((function(e,t){var r=t.courseSlug,n=t.courseId;e.executeAction(N,{courseSlug:r,courseId:n})})),Object(i.a)((function(e){var t;return e.computedModelStoreHasLoaded})),Object(c.a)((function(e,t){var r=t.courseId,n=t.courseSlug,a=o.a.get().id,s=o.a.isAuthenticatedUser();e.executeAction(I.a,{courseSlug:n}),e.executeAction(Oe.a,{courseId:r}),e.executeAction(Ae,{courseId:r,userId:a}),e.executeAction(je.a,{authenticated:s}),e.executeAction(te,{courseId:r,userId:a}),e.executeAction(v.a,{authenticated:s,courseId:r,userId:a})})),Object(i.a)((function(e){var t=e.s12nStoreHasLoaded,r=e.courseStoreHasLoaded,n=e.sessionStoreHasLoaded,a=e.courseViewGradeStoreHasLoaded,s=e.progressStoreHasLoaded;return t&&r&&n&&a&&s})),Object(c.a)((function(e,t){var r=t.courseId,n=t.course,a=t.s12n,s=t.sessionId,i=o.a.get().id,u=o.a.isAuthenticatedUser(),d=a&&a.getId(),c=n.isVerificationEnabled(),l=e.getStore("CourseStore");e.executeAction(me,{userId:i}),l.isCumulativeGradePolicy()&&e.executeAction(ke,{userId:i,courseId:r}),e.executeAction(Le,{authenticated:u,userId:i,courseId:r,isCourseVerificationEnabled:c,s12nId:d}),e.executeAction(we,{courseId:r,userId:i,sessionId:s})})),Object(i.a)((function(e){var t;return e.verificationStoreHasLoaded})))(xe),qe=function LegacyDataFetch(e){var t=e.children,r=e.isLegacyDataLoaded;return(s.a.createElement("div",{className:"rc-LegacyDataFetch"},s.a.createElement(Qe,null,t),!r&&(Fe||(Fe=s.a.createElement(Ne.a,{height:512},s.a.createElement(Ge.a,null))))))},Ve=e.default=n()(Object(u.a)([De.a],(function(e){return{isLegacyDataLoaded:e.hasLoaded()}})))(qe)},"b+2U":function(module,e,t){"use strict";t.d(e,"a",(function(){return o})),t.d(e,"b",(function(){return i}));var r=t("S+eF"),n=t.n(r),a=t("jihO"),s=t("xPfO"),o=function getCurrentSession(e,t){var r=t.courseSlug;if(e.getStore(s.a).hasLoaded())return n()();return a.d(r).then((function(t){e.dispatch("LOAD_SESSION",t||null)})).fail((function(e){throw e}))},i=function updateEnrollableAndFollowingSessions(e,t){var r=t.courseId,o=t.currentSessionId;if(e.getStore(s.a).hasLoaded())return n()();return a.e(r,o).then((function(t){(t.getUpcomingSession()||t.getFollowingSession())&&e.dispatch("LOAD_UPCOMING_AND_FOLLOWING_SESSIONS",{upcomingSession:t.getUpcomingSession(),followingSession:t.getFollowingSession()})})).fail((function(e){throw e}))},u=function getAllSessions(e,t){if(e.getStore(s.a).hasLoaded())return n()();return a.c(t).then((function(t){e.dispatch("LOAD_ALL_SESSIONS",t)}))}},knci:function(module,e,t){"use strict";var r=t("VbXa"),n=t.n(r),a=t("q1tI"),s=t.n(a),o=t("juwT"),i=t("+LJP"),u=t("lngd"),d,c=function(e){function CourseUnauthorized(){return e.apply(this,arguments)||this}n()(CourseUnauthorized,e);var t=CourseUnauthorized.prototype;return t.componentDidMount=function componentDidMount(){var e=this.props.courseSlug;o.a.setLocation("/learn/".concat(e))},t.render=function render(){return d||(d=s.a.createElement("div",{className:"align-horizontal-center"},s.a.createElement(u.a,null)))},CourseUnauthorized}(s.a.Component);e.a=Object(i.a)((function(e,t){return{courseSlug:e.params.courseSlug}}))(c)},udpv:function(module,e,t){"use strict";var r=t("KMW/");e.a=function(e){return-1!==r.a.get("featureBlacklist","defaultDeadlines").indexOf(e)}},wJWS:function(module,e,t){"use strict";t.d(e,"a",(function(){return s})),t.d(e,"b",(function(){return o})),t.d(e,"c",(function(){return i}));var r=t("S+eF"),n=t.n(r),a=t("tdcm"),s=function loadHonorsUserPreferences(e,t){var r=t.authenticated;if(e.getStore("HonorsUserPreferencesStore").hasLoaded())return n()();return r?a.a.get(a.a.keyEnum.HONORS).then((function(t){e.dispatch("LOAD_HONORS_USER_PREFERENCES",t)})).fail((function(t){e.dispatch("LOAD_HONORS_USER_PREFERENCES",{})})):(e.dispatch("LOAD_HONORS_USER_PREFERENCES",{}),n()())},o=function setHonorsUserPreferences(e,t){var r=t.authenticated,s=t.updatedHonorsUserPreferences;return r?a.a.set(a.a.keyEnum.HONORS,s).then((function(){e.dispatch("LOAD_HONORS_USER_PREFERENCES",s)})):(e.dispatch("LOAD_HONORS_USER_PREFERENCES",s),n()())},i=function setLessonSkipped(e,t){var r=t.lessonId,n=t.skipped;e.dispatch("SET_LESSON_SKIPPED",{lessonId:r,skipped:n})}}}]);
//# sourceMappingURL=12.45fd7ddc47e64e0d58f7.js.map