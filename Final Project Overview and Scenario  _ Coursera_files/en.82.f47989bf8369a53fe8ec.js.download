(window.webpackJsonp=window.webpackJsonp||[]).push([[82],{BCqu:function(module,exports,e){},F9YM:function(module,e,t){"use strict";t.d(e,"c",(function(){return c})),t.d(e,"e",(function(){return s})),t.d(e,"a",(function(){return u})),t.d(e,"b",(function(){return d})),t.d(e,"d",(function(){return m}));var n=t("wd/R"),a=t.n(n),r=1,o=function findCueIndexForTimeHelper(e,t,n,a){if(t>n)return-1;var r=n-Math.floor((n-t)/2);return a<e[r].startTime?findCueIndexForTimeHelper(e,t,r-1,a):r!==e.length-1&&a>=e[r+1].startTime?findCueIndexForTimeHelper(e,r+1,n,a):r},i=function findCueIndexForTime(e,t){return o(e,0,e.length-1,t)},c=function formatTime(e){var t="m:ss",n=1e3*e,r,o;return a.a.duration(n).hours()>0&&(t="h:m"+t),a.a.utc(n).locale("en").format(t)},s=function getTimeFromDuration(e){var t=1e3*e,n=a.a.duration(t),r=n.hours(),o=n.minutes(),i;return{seconds:n.seconds(),minutes:o,hours:r}},u=function buildParagraphs(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=[],a,r,o;return e.forEach((function(e){r&&(o=e.startTime-r.endTime),(!a||o>=t)&&(a=[],n.push(a)),a.push(e),r=e})),n},d=function findCuesAroundTime(e,t){var n,a=e[i(e,t)];if(!a)return[];return[a]},l=function getSentenceCueIndices(e,t){for(var n=[],a=e-1;-1!==a;){var r=t[a];if("."===r.text[r.text.length-1])break;n.unshift(a),a-=1}for(var o=e;o<=t.length-1;){var i=t[o];if(n.push(o),"."===i.text[i.text.length-1])break;o+=1}return n},g=function getAdjancentCueIndices(e,t){var n=[],a=[];return e>=2&&a.push(e-2),e>=1&&a.push(e-1),e<t-1&&n.push(e+1),e<t-2&&n.push(e+2),[].concat(a,[e],n)},m=function getAdjacentCues(e,t,n){var a=i(e,t);if(-1===a&&e.length>2)return[0,1,2].map((function(t){return e[t]}));if(a<0||a>=e.length)return[];if("en"===n)return l(a,e).map((function(t){return e[t]}));return g(a,e.length).map((function(t){return e[t]}))}},GUMY:function(module,e,t){"use strict";var n=t("q1tI"),a=t.n(n),r=t("JYd8"),o=Object(r.a)("VideoIcon",{ltr:{small:function small(e){return a.a.createElement(a.a.Fragment,null,a.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M8 1.5a6.5 6.5 0 100 13 6.5 6.5 0 000-13zM.5 8a7.5 7.5 0 1115 0 7.5 7.5 0 01-15 0z",fill:"currentColor"}),a.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M5.5 3.59L12.431 8 5.5 12.41V3.59zm1 1.82v5.18L10.569 8 6.5 5.41z",fill:"currentColor"}))},medium:function medium(e){return a.a.createElement(a.a.Fragment,null,a.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M10 1.5a8.5 8.5 0 100 17 8.5 8.5 0 000-17zM.5 10a9.5 9.5 0 1119 0 9.5 9.5 0 01-19 0z",fill:"currentColor"}),a.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M6.93 4.59L15.431 10 6.93 15.41V4.59zm1 1.82v7.18L13.569 10 7.93 6.41z",fill:"currentColor"}))},large:function large(e){return a.a.createElement(a.a.Fragment,null,a.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12 1.5C6.201 1.5 1.5 6.201 1.5 12S6.201 22.5 12 22.5 22.5 17.799 22.5 12 17.799 1.5 12 1.5zM.5 12C.5 5.649 5.649.5 12 .5S23.5 5.649 23.5 12 18.351 23.5 12 23.5.5 18.351.5 12z",fill:"currentColor"}),a.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M8.36 5.589L18.431 12 8.36 18.411V5.589zm1 1.822v9.178L16.569 12 9.36 7.411z",fill:"currentColor"}))}}},!1);e.a=o},Ne6o:function(module,exports,e){var t=e("OIEB"),n=t.default?t.default:{},a,r=(0,e("HdzH").default)(n);r.getLocale=function(){return"en"},module.exports=r},OIEB:function(module,exports){exports.default={"ar":true,"de":true,"es":true,"fr":true,"id":true,"ja":true,"ko":true,"pt":true,"ru":true,"uk":true,"zh":true,"zh-hk":"zh-tw","zh-mo":"zh-tw","zh-tw":true}},c5cO:function(module,e,t){"use strict";t.r(e);var n=t("VkAN"),a=t.n(n),r=t("J4zp"),o=t.n(r),i=t("AeFk"),c=t("q1tI"),s=t.n(c),u=t("HOoY"),d=t("kgYC"),l=t("8Hdl"),g=t("1HaE"),m=t("KMW/"),p=t("lTCR"),f=t.n(p),h=t("oJmH"),v,b=f()(v||(v=a()(['\n  query VideoCourseMaterialsQuery($slug: String!) {\n    OnDemandCourseMaterialsV2 @naptime {\n      slug(slug: $slug, showHidden: true, includes: "modules") {\n        elements {\n          id\n          name\n        }\n        linked {\n          onDemandCourseMaterialModulesV1 {\n            id\n            name\n          }\n        }\n      }\n    }\n  }\n']))),x,N=function CourseContentDataProvider(e){var t=e.courseSlug,n=e.children;return(s.a.createElement(h.Query,{query:b,variables:{slug:t}},(function(e){var a=e.loading,r=e.error,o=e.data;if(r||a)return n({course:null,modules:null,error:!!r,loading:!!a});var i,c=(o.OnDemandCourseMaterialsV2||{}).slug,s=(c||{}).elements[0].id,u=(c||{}).elements[0].name,d=((c||{}).linked||{}).onDemandCourseMaterialModulesV1;return n({course:{id:s,name:u,slug:t},modules:d,error:!1,loading:!1})})))},O=t("cVIm"),j=t("TOZ3"),I=t("CsdX"),T=t("wwtN"),S=t("8WNh"),C=t("Ne6o"),y=t.n(C),E=t("kUh3"),P,D="".concat(O.a.url.resource_assets,"learner/icon_note.svg"),w="".concat(O.a.url.resource_assets,"learner/icon_highlight.svg"),U,M=function NotesReviewPageDataState(e){var t=e.dataState;return(s.a.createElement(j.b,{"aria-live":"assertive","aria-atomic":!0,"aria-relevant":"text",rootClassName:"rc-NotesReviewPageDataState",flexDirection:"column",justifyContent:"start",alignItems:"center"},"error"===t&&[s.a.createElement(T.a,{key:"icon",size:84,color:I.b.error}),s.a.createElement("div",{key:"message",className:"data-state-message headline-5-text","aria-live":"assertive","aria-atomic":!0,"aria-relevant":"text"},y()("There was an issue loading your notes data. Please try refreshing the page."))],"loading"===t&&[P||(P=s.a.createElement(S.a,{key:"icon",size:84})),s.a.createElement("div",{key:"message",className:"data-state-message headline-5-text"},y()("Loading notes..."))],"empty"===t&&[s.a.createElement(j.b,{justifyContent:"center",rootClassName:"state-icons"},s.a.createElement("img",{src:D,alt:y()("Take notes"),className:"placeholder-icon"}),s.a.createElement("img",{src:w,alt:y()("Highlight"),className:"placeholder-icon"})),s.a.createElement("div",{"aria-live":"assertive","aria-atomic":!0,"aria-relevant":"text",key:"message",className:"data-state-message headline-5-text"},y()("You have not added any notes yet. Notes can be created from video pages."))]))},k=t("3tO9"),V=t.n(k),z=t("6/Gu"),W=t("ZJgU"),L=t("RIqP"),A=t.n(L),F=t("mDxB"),R,Q,Y,H=function cloneData(e){return JSON.parse(JSON.stringify(e))},q=f()(R||(R=a()(["\n  query NotesDataQuery($courseId: String!, $start: Int, $limit: Int) {\n    UserNotesV1 @naptime {\n      courseWithContentSort(courseId: $courseId, start: $start, limit: $limit) {\n        elements {\n          id\n          userText\n          createdAt\n          updatedAt\n          details\n        }\n        paging\n      }\n    }\n  }\n"]))),B=function CourseNotesQueryProvider(e){var t=e.course,n=e.pageSize,a=e.children;return(s.a.createElement(h.Query,{query:q,variables:{courseId:t.id,start:0,limit:n},notifyOnNetworkStatusChange:!0},(function(e){var t=e.loading,r=e.error,o=e.data,i=e.fetchMore;if(r)return a({notes:null,onLastPage:!1,error:!0,fetchNextPage:function fetchNextPage(){},loadingInitialPage:!1,loadingNextPage:!1});var c,s=((o||{}).UserNotesV1||{}).courseWithContentSort;if(t&&!(s||{}).elements)return a({notes:null,onLastPage:!1,error:!1,fetchNextPage:function fetchNextPage(){},loadingInitialPage:!0,loadingNextPage:!1});var u=((s||{}).elements||[]).map(F.e),d=(s||{}).paging,l=!d||!d.next||d.total&&d.next>=d.total,g;return a({notes:u,fetchNextPage:function fetchNextPage(){i({variables:{start:u.length,limit:n},updateQuery:function updateQuery(e,t){var n=t.fetchMoreResult,a=H(e);if(!n)return a;var r=a;r.UserNotesV1.courseWithContentSort.elements=[].concat(A()(e.UserNotesV1.courseWithContentSort.elements),A()(n.UserNotesV1.courseWithContentSort.elements));var o=n.UserNotesV1.courseWithContentSort.paging;return r.UserNotesV1.courseWithContentSort.paging=o,r}})},onLastPage:l,error:!1,loadingInitialPage:!1,loadingNextPage:t})})))},J=f()(Q||(Q=a()(["\n  mutation DeleteNoteMutation($noteId: String!) {\n    UserNotesV1 @naptime {\n      delete(id: $noteId) {\n        id\n      }\n    }\n  }\n"]))),G=function CourseNotesDeletionProvider(e){var t=e.course,n=e.pageSize,a=e.children;return(s.a.createElement(h.Mutation,{mutation:J},(function(e){var r;return a({deleteNote:function deleteNote(a){e({variables:{noteId:a},update:function update(e){var r=e.readQuery({query:q,variables:{courseId:t.id,start:0,limit:n}}),o=H(r),i,c,s,u=((((r||{}).UserNotesV1||{}).courseWithContentSort||{}).elements||[]).filter((function(e){return e.id!==a})),d=o;d.UserNotesV1.courseWithContentSort.elements=u,e.writeQuery({query:q,variables:{courseId:t.id,start:0,limit:n},data:d})}})}})})))},Z=f()(Y||(Y=a()(["\n  mutation UpdateNoteMutation($noteId: String!, $noteDraft: DataMap!) {\n    UserNotesV1 @naptime {\n      update(id: $noteId, input: $noteDraft) {\n        elements {\n          id\n          userText\n          createdAt\n          updatedAt\n          details\n        }\n      }\n    }\n  }\n"]))),K=function CourseNotesUpdateProvider(e){var t=e.children;return(s.a.createElement(h.Mutation,{mutation:Z},(function(e){var n;return t({updateNote:function updateNote(t,n){e({variables:{noteId:t,noteDraft:n}})}})})))},X,ee=function CourseNotesDataProvider(e){var t=e.course,n=e.pageSize,a=e.children;return(s.a.createElement(B,{course:t,pageSize:n},(function(e){var r=e.notes,o=e.fetchNextPage,i=e.error,c=e.loadingInitialPage,u=e.loadingNextPage,d=e.onLastPage;return(s.a.createElement(G,{course:t,pageSize:n},(function(e){var t=e.deleteNote;return(s.a.createElement(K,null,(function(e){var n=e.updateNote;return a({notes:r,onLastPage:d,fetchNextPage:o,deleteNote:t,updateNote:n,error:i,loadingInitialPage:c,loadingNextPage:u})})))})))})))},te,ne,ae,re=function cloneData(e){return JSON.parse(JSON.stringify(e))},oe=f()(te||(te=a()(["\n  query NotesModuleQuery($courseId: String!, $moduleId: String!, $start: Int, $limit: Int) {\n    UserNotesV1 @naptime {\n      courseModuleWithContentSort(courseId: $courseId, moduleId: $moduleId, start: $start, limit: $limit) {\n        elements {\n          id\n          userText\n          createdAt\n          updatedAt\n          details\n        }\n        paging\n      }\n    }\n  }\n"]))),ie=function ModuleNotesQueryProvider(e){var t=e.course,module=e.module,n=e.pageSize,a=e.children;return(s.a.createElement(h.Query,{query:oe,variables:{courseId:t.id,moduleId:module.id,start:0,limit:n},notifyOnNetworkStatusChange:!0},(function(e){var t=e.loading,r=e.error,o=e.data,i=e.fetchMore;if(r)return a({notes:null,onLastPage:!1,fetchNextPage:function fetchNextPage(){},error:!0,loadingInitialPage:!1,loadingNextPage:!1});if(t&&!(((o||{}).UserNotesV1||{}).courseModuleWithContentSort||{}).elements)return a({notes:null,onLastPage:!1,fetchNextPage:function fetchNextPage(){},error:!1,loadingInitialPage:!0,loadingNextPage:!1});var c,s=((o||{}).UserNotesV1||{}).courseModuleWithContentSort,u=((s||{}).elements||[]).map(F.e),d=(s||{}).paging,l=!d||!d.next||d.total&&d.next>=d.total,g;return a({notes:u,fetchNextPage:function fetchNextPage(){i({variables:{start:u.length,limit:n},updateQuery:function updateQuery(e,t){var n=t.fetchMoreResult,a=re(e);if(!n)return a;var r=a;r.UserNotesV1.courseModuleWithContentSort.elements=[].concat(A()(e.UserNotesV1.courseModuleWithContentSort.elements),A()(n.UserNotesV1.courseModuleWithContentSort.elements));var o=n.UserNotesV1.courseModuleWithContentSort.paging;return r.UserNotesV1.courseModuleWithContentSort.paging=o,r}})},onLastPage:l,error:!1,loadingInitialPage:!1,loadingNextPage:!!t})})))},ce=f()(ne||(ne=a()(["\n  mutation DeleteNoteMutation($noteId: String!) {\n    UserNotesV1 @naptime {\n      delete(id: $noteId) {\n        id\n      }\n    }\n  }\n"]))),se=function ModuleNotesDeletionProvider(e){var t=e.course,module=e.module,n=e.pageSize,a=e.children;return(s.a.createElement(h.Mutation,{mutation:ce},(function(e){var r;return a({deleteNote:function deleteNote(a){e({variables:{noteId:a},update:function update(e){var r=e.readQuery({query:oe,variables:{courseId:t.id,moduleId:module.id,start:0,limit:n}}),o=re(r),i,c,s,u=((((r||{}).UserNotesV1||{}).courseModuleWithContentSort||{}).elements||[]).filter((function(e){return e.id!==a})),d=o;d.UserNotesV1.courseModuleWithContentSort.elements=u,e.writeQuery({query:oe,variables:{courseId:t.id,moduleId:module.id,start:0,limit:n},data:d})}})}})})))},ue=f()(ae||(ae=a()(["\n  mutation UpdateNoteMutation($noteId: String!, $noteDraft: DataMap!) {\n    UserNotesV1 @naptime {\n      update(id: $noteId, input: $noteDraft) {\n        elements {\n          id\n          userText\n          createdAt\n          updatedAt\n          details\n        }\n      }\n    }\n  }\n"]))),de=function ModuleNotesUpdateProvider(e){var t=e.children;return(s.a.createElement(h.Mutation,{mutation:ue},(function(e){var n;return t({updateNote:function updateNote(t,n){e({variables:{noteId:t,noteDraft:n}})}})})))},le,ge=function ModuleNotesDataProvider(e){var t=e.course,module=e.module,n=e.pageSize,a=e.children;return(s.a.createElement(ie,{course:t,module:module,pageSize:n},(function(e){var r=e.notes,o=e.fetchNextPage,i=e.error,c=e.loadingInitialPage,u=e.loadingNextPage,d=e.onLastPage;return(s.a.createElement(se,{course:t,module:module,pageSize:n},(function(e){var t=e.deleteNote;return(s.a.createElement(de,null,(function(e){var n=e.updateNote;return a({notes:r,onLastPage:d,fetchNextPage:o,deleteNote:t,updateNote:n,error:i,loadingInitialPage:c,loadingNextPage:u})})))})))})))},me,pe=function ContentNotesDataProvider(e){var t=e.contentType,n=e.course,module=e.module,a=e.pageSize,r=void 0===a?10:a,o=e.children;if("module"===t)return module?s.a.createElement(ge,{course:n,module:module,pageSize:r},(function(e){return o(e)})):null;return(s.a.createElement(ee,{course:n,pageSize:r},(function(e){return o(e)})))},fe=t("p6CZ"),he,ve,be=function Divider(){var e=Object(d.a)();return Object(i.d)("div",{css:Object(i.c)(he||(he=a()(["\n        width: 100%;\n        margin: ",";\n        border-top: 1px solid ",";\n      "])),e.spacing(24,0),e.palette.gray[300])})},xe,Ne,Oe,je;!function(e){e[e.VIEW=0]="VIEW",e[e.EDIT=1]="EDIT",e[e.DELETE=2]="DELETE"}(xe||(xe={}));var Ie,Te=function NoteDelete(e){var t=e.setCurrentState,n=e.onDelete,r=e.text,o=Object(d.a)(),c=(r||"").split(" ",20).join(" ");return Object(i.d)(s.a.Fragment,null,r&&Object(i.d)(s.a.Fragment,null,Object(i.d)(l.a,{component:"p",css:Object(i.c)(Ne||(Ne=a()(["\n              margin: ",";\n            "])),o.spacing(16,0,8)),variant:"h3semibold"},y()("Your Notes")),Object(i.d)(l.a,{variant:"body1"},r)),Object(i.d)(z.a,{container:!0,alignItems:"flex-end",css:{flexGrow:1}},Object(i.d)(z.a,{item:!0,container:!0,justifyContent:"flex-start",alignItems:"center"},Object(i.d)(z.a,{item:!0,css:{margin:o.spacing(16,32,0,0)}},Object(i.d)(l.a,{variant:"body1","aria-live":"polite"},y()("Are you sure you want to delete the entire note?"))),Object(i.d)(z.a,{item:!0,container:!0,css:Object(i.c)(Oe||(Oe=a()(["\n              flex-basis: 0;\n              flex-wrap: nowrap;\n              margin: ",";\n            "])),o.spacing(16,0,0))},Object(i.d)(z.a,{item:!0,css:Object(i.c)(je||(je=a()(["\n                margin: ",";\n              "])),o.spacing(0,16,0,0))},Object(i.d)(W.a,{onClick:function onClick(){n(),t(xe.VIEW)},size:"small",variant:"primary","aria-label":y()("Delete Your Notes for #{text}",{text:c})},y()("Delete"))),Object(i.d)(z.a,{item:!0},Object(i.d)(W.a,{onClick:function onClick(){return t(xe.VIEW)},size:"small",variant:"secondary","aria-label":y()("Cancel Deleting Notes for #{text}",{text:c})},y()("Cancel")))))))},Se,Ce,ye,Ee=function NoteEdit(e){var t=e.setCurrentState,n=e.text,r=e.onSave,u=Object(d.a)(),g=Object(c.useState)(n),m=o()(g,2),p=m[0],f=m[1],h=n.split(" ",20).join(" ");return Object(i.d)(s.a.Fragment,null,Object(i.d)(l.a,{component:"p",css:Object(i.c)(Se||(Se=a()(["\n          margin: ",";\n        "])),u.spacing(16,0,8)),variant:"h3semibold"},y()("Your Notes")),Object(i.d)("textarea",{"aria-label":y()("Your Notes"),autoFocus:!0,css:V()({width:"100%",maxHeight:"175px",overflowY:"scroll",margin:u.spacing(0,0,0),padding:u.spacing(16),border:"1px solid ".concat(u.palette.gray[500]),borderRadius:2},u.typography.body1),id:"edit-note",defaultValue:p,onChange:function onChange(e){return f(e.target.value)},rows:3}),Object(i.d)(z.a,{container:!0,justifyContent:"flex-start",css:{margin:u.spacing(16,0,0)}},Object(i.d)(z.a,{item:!0},Object(i.d)(W.a,{onClick:function onClick(){r(p),t(xe.VIEW)},size:"small",variant:"primary","aria-label":y()("Save Your Notes for #{text}",{text:h})},y()("Save"))),Object(i.d)(z.a,{item:!0},Object(i.d)(W.a,{css:Object(i.c)(Ce||(Ce=a()(["\n              margin: ",";\n            "])),u.spacing(0,0,0,16)),onClick:function onClick(){return t(xe.VIEW)},size:"small",variant:"secondary","aria-label":y()("Cancel Editing Notes for #{text}",{text:h})},y()("Cancel")))))},Pe=t("9A5E"),De=t("GUMY"),we=t("fAYU"),Ue=t("gNwb"),Me=t("Ys1X"),ke=t("F9YM"),Ve,ze,We,Le,Ae,Fe,Re,$e,Qe,Ye=function formatNoteClipDescription(e){var t=e.noteStartTs,n=e.noteEndTs,a=e.captureTs;if(t&&n)return"".concat(Object(ke.c)(t)," - ").concat(Object(ke.c)(n));return"".concat(Object(ke.c)(a))},He=function constructItemLink(e,t,n){return"".concat(Object(Me.c)(e),"/lecture/").concat(t,"?t=").concat(Math.trunc(n))},qe=function VideoSnapshot(e){var t=e.snapshotUrl,n=Object(d.a)(),r=Object(i.c)(Ve||(Ve=a()(["\n    position: absolute;\n    top: 0;\n    left: 0;\n    right: 0;\n    bottom: 0;\n    opacity: 0;\n    background: ",";\n    transition: opacity 0.2s linear;\n    :hover {\n      opacity: 0.6;\n    }\n  "])),n.palette.black[500]),o=Object(i.c)(ze||(ze=a()(["\n    top: 50%;\n    left: 50%;\n    position: absolute;\n    transform: translate(-50%, -50%);\n  "])));return Object(i.d)("div",{css:Object(i.c)(We||(We=a()(["\n        width: 197px;\n        position: relative;\n      "])))},Object(i.d)("div",{css:r},Object(i.d)(l.a,{color:"invertBody",css:o},y()("Go to video"))),Object(i.d)("img",{css:Object(i.c)(Le||(Le=a()(["\n          width: 100%;\n          border: 1px solid ",";\n        "])),n.palette.gray[400]),src:t,alt:"note"}))},Be=Object(Ue.d)({type:"BUTTON"})(we.a),_e,Je=function NoteInformation(e){var t,n,r=e.note,o=e.course,c=Object(d.a)();return Object(i.d)(s.a.Fragment,null,Object(i.d)(z.a,{container:!0,alignItems:"center",wrap:"nowrap"},!r.snapshotUrl&&Object(i.d)("div",{css:Object(i.c)(Ae||(Ae=a()(["\n              flex-shrink: 0;\n              height: ",";\n            "])),c.spacing(24))},Fe||(Fe=Object(i.d)(De.a,{size:"large"}))),Object(i.d)("div",{css:Object(i.c)(Re||(Re=a()(["\n            margin: ",";\n          "])),c.spacing(0,0,0,r.snapshotUrl?0:8))},r.snapshotUrl&&Object(i.d)("div",{"data-e2e":"snapshot-container",css:Object(i.c)($e||($e=a()(["\n                margin: ",";\n              "])),c.spacing(0,0,16,0))},Object(i.d)(Pe.a,{trackingName:"highlight_link",data:{itemId:r.itemId},href:He(o.slug,null!==(t=r.itemId)&&void 0!==t?t:"",r.noteStartTs),target:"_blank",role:"link",rel:"noopener noreferrer"},Object(i.d)(qe,{snapshotUrl:r.snapshotUrl}))),Object(i.d)(Be,{variant:"quiet",trackingName:"highlight_link",trackingData:{itemId:r.itemId},href:He(o.slug,null!==(n=r.itemId)&&void 0!==n?n:"",r.noteStartTs),target:"_blank",role:"link",rel:"noopener noreferrer",typographyVariant:"body1"},r.itemName))),Object(i.d)(l.a,{css:Object(i.c)(Qe||(Qe=a()(["\n          margin: ",";\n\n          "," {\n            margin: ",";\n          }\n        "])),c.spacing(4,0,0,r.snapshotUrl?0:32),c.breakpoints.down("sm"),c.spacing(4,0,16,r.snapshotUrl?0:32)),variant:"body2",color:"supportText","aria-label":y()("Duration"),dir:"ltr"},Ye(r)))},Ge=t("UIee"),Ze=t("rGs/"),Ke,Xe,et,tt,nt,at,rt=function NoteView(e){var t=e.text,n=e.setCurrentState,r=e.note,o=Object(d.a)(),c=function formatAriaLabelForButton(e){var t=r.itemName,n=Object(ke.c)(r.noteStartTs),a=r.noteEndTs?Object(ke.c)(r.noteEndTs):"",o="";return o=t?"EDIT"===e?a?y()("Edit Your Notes for #{videoName} from time #{videoNoteStartTimestamp} to #{videoNoteEndTimestamp}",{videoName:t,videoNoteStartTimestamp:n,videoNoteEndTimestamp:a}):y()("Edit Your Notes for #{videoName} from time #{videoNoteStartTimestamp}",{videoName:t,videoNoteStartTimestamp:n}):a?y()("Delete Your Notes for #{videoName} from time #{videoNoteStartTimestamp} to #{videoNoteEndTimestamp}",{videoName:t,videoNoteStartTimestamp:n,videoNoteEndTimestamp:a}):y()("Delete Your Notes for #{videoName} from time #{videoNoteStartTimestamp}",{videoName:t,videoNoteStartTimestamp:n}):"EDIT"===e?y()("Edit Your Notes"):y()("Delete Your Notes")};return Object(i.d)(s.a.Fragment,null,t&&Object(i.d)(s.a.Fragment,null,Object(i.d)(l.a,{component:"p",css:Object(i.c)(Ke||(Ke=a()(["\n              margin: ",";\n            "])),o.spacing(16,0,8)),variant:"h3semibold","data-e2e":"video-note-label"},y()("Your Notes")),Object(i.d)(l.a,{variant:"body1","data-e2e":"video-note-text"},t)),Object(i.d)(z.a,{container:!0,alignItems:"flex-end",css:{flexGrow:1}},Object(i.d)(z.a,{container:!0,justifyContent:"flex-start",css:{margin:o.spacing(16,0,0)}},Object(i.d)(z.a,{item:!0,css:Object(i.c)(Xe||(Xe=a()(["\n              /* Required to align the text in the button correctly with the rest of the notes */\n              margin-left: -8px;\n            "])))},Object(i.d)(W.a,{icon:et||(et=Object(i.d)(Ge.a,{size:"small"})),iconPosition:"before",onClick:function onClick(){return n(xe.EDIT)},size:"small",variant:"ghost","aria-label":c("EDIT")},y()("Edit"))),Object(i.d)(z.a,{css:Object(i.c)(tt||(tt=a()(["\n              margin: ",";\n            "])),o.spacing(0,0,0,16)),item:!0},Object(i.d)(W.a,{icon:nt||(nt=Object(i.d)(Ze.a,{size:"small"})),iconPosition:"before",onClick:function onClick(){return n(xe.DELETE)},size:"small",variant:"ghost","aria-label":c("DELETE")},y()("Delete"))))))},ot,it,ct,st=function Note(e){var t=e.note,n=e.course,r=e.onSave,s=e.onDelete,u=Object(c.useState)(xe.VIEW),g=o()(u,2),m=g[0],p=g[1],f=Object(d.a)();return Object(i.d)("li",{css:Object(i.c)(ot||(ot=a()(["\n        width: 100%;\n        list-style: none;\n      "])))},it||(it=Object(i.d)(be,null)),Object(i.d)(z.a,{container:!0,"data-e2e":"note-card"},Object(i.d)(z.a,{item:!0,xs:12,sm:5,md:5,lg:4,xl:3,css:{padding:f.spacing(0,32,0,0)}},Object(i.d)(Je,{note:t,course:n})),Object(i.d)(z.a,{item:!0,xs:12,sm:7,md:7,lg:8,xl:9},Object(i.d)(z.a,{container:!0,direction:"column",css:{height:"100%"}},Object(i.d)(z.a,{item:!0},Object(i.d)(l.a,{variant:"body1","data-e2e":"video-section-text"},t.transcriptText)),m===xe.VIEW&&Object(i.d)(rt,{setCurrentState:p,text:t.noteText,note:t}),m===xe.EDIT&&Object(i.d)(Ee,{setCurrentState:p,text:t.noteText,onSave:function onSave(e){return r(t.id,e)}}),m===xe.DELETE&&Object(i.d)(Te,{setCurrentState:p,onDelete:function onDelete(){return s(t.id)},text:t.noteText})))))},ut,dt,lt,gt,mt,pt=20,ft=function partialSortByTimestamp(e,t,n){var a=e.slice(0,t),r=e.slice(n),o=e.slice(t,n).sort(F.a);return e.length=0,e.push.apply(e,a.concat(o).concat(r)),e},ht=function sortByTimestampWithinModule(e){for(var t=0,n=t+1;n<e.length;){for(;n<e.length&&e[n].itemName===e[n-1].itemName;)n++;e=ft(e,t,n),n=(t=n)+1}return e},vt=function NoteList(e){var t=Object(d.a)();return Object(i.d)(pe,{pageSize:20,contentType:e.module?"module":"course",course:e.course,module:e.module},(function(t){var n=t.notes,r=t.onLastPage,o=t.fetchNextPage,c=t.error,u=t.loadingInitialPage,d=t.loadingNextPage,l=t.updateNote,g=t.deleteNote;if(c)return ut||(ut=Object(i.d)(M,{dataState:"error"}));if(u)return dt||(dt=Object(i.d)(M,{dataState:"loading"}));if(!n||0===n.length)return lt||(lt=Object(i.d)(M,{dataState:"empty"}));var m=ht(n);return Object(i.d)(s.a.Fragment,null,Object(i.d)("ul",{css:Object(i.c)(gt||(gt=a()(["\n                margin: 0;\n                padding: 0;\n              "])))},m.map((function(t){return Object(i.d)(st,{course:e.course,key:t.id,note:t,onSave:function onSave(n,a){var r;l(n,Object(fe.d)({itemId:t.itemId,courseId:e.course.id,highlight:V()(V()({},t),{},{noteText:null!==(r=null!=a?a:t.noteText)&&void 0!==r?r:""}),languageCode:t.languageCode}))},onDelete:function onDelete(e){return g(e)}})}))),mt||(mt=Object(i.d)(be,null)),!r&&Object(i.d)(z.a,{container:!0,justifyContent:"center"},Object(i.d)(W.a,{variant:"secondary",disabled:d,onClick:o},d?y()("Loading Notes..."):y()("See More Notes"))))}))},bt=t("rzCt"),xt=t("fguj"),Nt,Ot,jt=function FilterDropdownItem(e){var t=e.content,n=t&&"course"!==t.contentType?t.name:y()("All notes");return Object(i.d)("div",{css:Object(i.c)(Nt||(Nt=a()(["\n        width: 100%;\n        text-overflow: ellipsis;\n        overflow: hidden;\n        white-space: nowrap;\n      "])))},n)},It,Tt=function NotesPageFilterDropdown(e){var t=e.course,n=e.modules,r=e.selectedContentId,o=e.onSelect,c=void 0===o?function(){}:o,s=Object(d.a)(),u=r||t.id,l=V()({contentType:"course"},t),g=n.map((function(module){return V()({contentType:"module"},module)})),m=[l].concat(A()(g));return Object(i.d)("div",{css:Object(i.c)(Ot||(Ot=a()(["\n        margin: ",";\n        "," {\n          max-width: 306px;\n        }\n      "])),s.spacing(12,0,24),s.breakpoints.up("sm")),className:"rc-NotesPageFilterDropdown"},Object(i.d)(bt.a,{label:y()("Filter"),value:u,onChange:function onChange(e){return c(e.target.value)},fullWidth:!0},m.map((function(e){return Object(i.d)(xt.a,{key:e.id,value:e.id},Object(i.d)(jt,{content:e}))}))))},St,Ct,yt,Et;t.d(e,"NotesReviewPageWithCourseData",(function(){return Pt}));var Pt=function NotesReviewPageWithCourseData(e){var t=Object(c.useState)(),n=o()(t,2),r=n[0],u=n[1];s.a.useEffect((function(){m.a.get("BlueJays","LearnerNotesPendoSampleIncluded")&&Object(g.a)()}),[]);var p=Object(d.a)();return Object(i.d)("div",{css:Object(i.c)(St||(St=a()(["\n        "," {\n          margin: ",";\n        }\n\n        "," {\n          margin: ",";\n        }\n\n        a:focus {\n          outline-offset: 2px;\n        }\n\n        /* \n          We are setting the typography of components that are not yet migrated to CDS and that are still being used by the original page \n          We don't want to override the font if the rest of the page is not using CDS\n        */\n        .rc-NotesReviewPageDataState * {\n          ",";\n        }\n        .rc-NotesReviewPageDataState {\n          margin: ",";\n        }\n      "])),p.breakpoints.up("md"),p.spacing(32,48),p.breakpoints.down("sm"),p.spacing(16,0),p.typography.h2,p.spacing(48,0,0))},Object(i.d)(l.a,{variant:"h1semibold",css:Object(i.c)(Ct||(Ct=a()(["\n          margin: ",";\n          "," {\n            margin: ",";\n          }\n        "])),p.spacing(0,0,48),p.breakpoints.down("sm"),p.spacing(0,0,32))},y()("Notes")),Object(i.d)(Tt,{modules:e.modules,course:e.course,selectedContentId:r,onSelect:u}),Object(i.d)(vt,{course:e.course,module:e.modules.find((function(e){return e.id===r}))||null}))},Dt=u.a.createTrackedContainer((function(e){var t;return{namespace:{page:"notes_review"},courseId:e.course.id}}))(Pt),wt=function NotesReviewPage(e){var t=e.params.courseSlug;return Object(i.d)(N,{courseSlug:t},(function(e){var t=e.course,n=e.modules,a=e.error,r=e.loading;if(a)return yt||(yt=Object(i.d)(M,{dataState:"error"}));if(r)return Et||(Et=Object(i.d)(M,{dataState:"loading"}));return Object(i.d)(Dt,{course:t,modules:n})}))},Ut=e.default=wt},kUh3:function(module,exports,e){var t=e("BCqu"),n;"string"==typeof t&&(t=[[module.i,t,""]]);var a={transform:void 0},r=e("aET+")(t,a);t.locals&&(module.exports=t.locals)},mDxB:function(module,e,t){"use strict";t.d(e,"e",(function(){return g})),t.d(e,"f",(function(){return m})),t.d(e,"b",(function(){return p})),t.d(e,"c",(function(){return f})),t.d(e,"a",(function(){return h})),t.d(e,"d",(function(){return v}));var n=t("3tO9"),a=t.n(n),r=t("S+eF"),o=t.n(r),i=t("fw5G"),c=t.n(i),s=t("DnuM"),u=t("p6CZ"),d=Object(s.a)("/api/userNotes.v1",{type:"rest"}),l=function uploadSnapshot(e,t){return o.a.Promise((function(n){var a=(new c.a).addQueryParam("action","getScreenShotUploadUrl").addQueryParam("id",e);d.post(a.toString()).then((function(a){var r=Object(u.c)(t),o;Object(s.a)(a,{type:"rest"}).put("",{contentType:"image/png",data:r,processData:!1}).then((function(){var t=e.split("~")[1];n("https://s3.amazonaws.com/coursera-video-thumbnail-notes/web/".concat(t))}))}))}))},g=function reshapeHighlightForClient(e){var t=e.id,n=e.createdAt,a=e.updatedAt,r=e.userText,o=e.details.definition,i=o.noteEndTs,c=o.noteStartTs,s=o.captureTs,u=o.snapshotUrl,d=o.transcriptTextStartIndex,l=o.transcriptTextEndIndex,g=o.transcriptText,m,p,f;return{id:t,itemId:o.itemId,itemName:o.itemName,clientId:t,createdAt:n,updatedAt:a,languageCode:o.languageCode,noteText:r,noteEndTs:i&&i/1e3,noteStartTs:c&&c/1e3,captureTs:s&&s/1e3,snapshotUrl:u,transcriptTextStartIndex:d,transcriptTextEndIndex:l,transcriptText:g,pendingCreate:!1,pendingUpdate:!1}},m=function updateHighlight(e){var t=e.itemId,n=e.courseId,a=e.languageCode,r=e.id,i=e.highlight,s=new c.a(r),l=Object(u.d)({itemId:t,courseId:n,highlight:i,languageCode:a});return o()(d.put(s.toString(),{data:l}))},p=function createHighlight(e){var t=e.itemId,n=e.courseId,r=e.languageCode,i=e.highlight,c=Object(u.d)({itemId:t,courseId:n,highlight:i,languageCode:r});if(i.snapshotDataUrl)return o.a.Promise((function(e,o){d.post("",{data:c}).then((function(c){var s,u,d,g=(null!==(s=null===(u=c.elements)||void 0===u?void 0:u[0])&&void 0!==s?s:{}).id;if(null==i||!i.snapshotDataUrl)return void o();l(g,i.snapshotDataUrl).then((function(o){m({itemId:t,courseId:n,languageCode:r,id:g,highlight:a()(a()({},i),{},{snapshotUrl:o})}).then((function(){e({id:g,snapshotUrl:o})}))}))}))}));return o()(d.post("",{data:c})).then((function(e){return e.elements[0]}))},f=function deleteHighlight(e){var t=e.id,n=new c.a(t);return o()(d.delete(n.toString()))},h=function compareHighlightsByStartTimestamp(e,t){if(e.noteStartTs<t.noteStartTs)return-1;if(e.noteStartTs>t.noteStartTs)return 1;return 0},v=function getHighlights(e){var t=e.itemId,n=e.courseId,a=e.languageCode,r=(new c.a).addQueryParam("itemId",t).addQueryParam("courseId",n).addQueryParam("languageCode",a).addQueryParam("q","courseItemLanguageCode").addQueryParam("fields","id, userText, createdAt, updatedAt, details");return o()(d.get(r.toString())).then((function(e){return e.elements.map(g).sort(h)}))},b=function getCourseHighlights(e){var t=e.courseId,n=(new c.a).addQueryParam("courseId",t).addQueryParam("q","course").addQueryParam("fields","id, userText, createdAt, updatedAt, details");return o()(d.get(n.toString())).then((function(e){var t;return null==e?void 0:null===(t=e.elements)||void 0===t?void 0:t.map(g)}))}},p6CZ:function(module,e,t){"use strict";var n=t("k8gO"),a=t("F9YM"),createSnapshot=function(e){var t=document.createElement("canvas");t.width=960,t.height=540;var n=e.el().querySelector("video"),a=t.getContext("2d");return a&&n&&a.drawImage(n,0,0,t.width,t.height),t.toDataURL("image/jpeg")};t.d(e,"c",(function(){return r})),t.d(e,"b",(function(){return o})),t.d(e,"a",(function(){return i})),t.d(e,"d",(function(){return c}));var r=function getBlobFromDataURI(e){for(var t=atob(e.split(",")[1]),n=e.split(",")[0].split(":")[1].split(";")[0],a=new ArrayBuffer(t.length),r=new Uint8Array(a),o=0;o<t.length;o+=1)r[o]=t.charCodeAt(o);return new Blob([a],{type:n})},o=function generateHighlightFromTranscriptSelection(e,t){var a=e.transcriptTextStartIndex,r=e.transcriptTextEndIndex,o=t.cues.filter((function(e){return e.index>=a.cueIndex&&e.index<=r.cueIndex})),i=o.reduce((function(e,t){var n=t.index,o=t.text,i=a.cueIndex,c=a.textIndex,s=r.cueIndex,u=r.textIndex;if(n===i){if(n===s)return"".concat(e).concat(o.substring(c,u+1));return"".concat(e).concat(o.substring(c))}if(n===s)return"".concat(e," ").concat(o.substring(0,u+1));return"".concat(e," ").concat(o)}),""),c=Object(n.a)(),s=c,u=o[0],d,l=o[o.length-1].endTime,g,m,p="",f=!0,h=!1,v;return{id:c,clientId:s,captureTs:u.startTime,noteStartTs:u.startTime,noteEndTs:l,transcriptText:i,noteText:"",languageCode:t.languageCode,transcriptTextStartIndex:a,transcriptTextEndIndex:r,pendingCreate:!0,pendingUpdate:!1}},i=function generateHighlightFromCaptureButton(e,t){var r=Object(n.a)(),o=r,i="",c=e.languageCode,s=t.currentTime(),u=Object(a.d)(e.cues,s,c),d=u[0],l=u[u.length-1],g=u.reduce((function(e,t){if(t.index===d.index)return"".concat(e).concat(t.text);return"".concat(e," ").concat(t.text)}),""),m={textIndex:0,cueIndex:d.index},p={textIndex:l.text.length-1,cueIndex:l.index},f=l.endTime,h,v=!0,b=!1,x;return{id:r,clientId:o,captureTs:s,noteStartTs:d.startTime,noteEndTs:f,transcriptText:g,noteText:"",languageCode:c,transcriptTextStartIndex:m,transcriptTextEndIndex:p,snapshotDataUrl:createSnapshot(t),pendingCreate:!0,pendingUpdate:!1}},c=function getDraftFromHighlight(e){var t=e.itemId,n=e.courseId,a=e.highlight,r=e.languageCode,o=a.noteStartTs,i=a.noteEndTs,c=a.captureTs,s=a.snapshotUrl,u=a.transcriptText,d=a.noteText,l=a.transcriptTextEndIndex,g;return{details:{typeName:"video",definition:{itemId:t,courseId:n,snapshotUrl:s||"",transcriptTextStartIndex:a.transcriptTextStartIndex,transcriptTextEndIndex:l,languageCode:r,transcriptText:u,noteEndTs:i&&1e3*i,captureTs:c&&1e3*c,noteStartTs:o&&1e3*o}},userNote:d}}}}]);
//# sourceMappingURL=en.82.f47989bf8369a53fe8ec.js.map