(window.webpackJsonp=window.webpackJsonp||[]).push([[83],{H4ky:function(module,e,t){"use strict";var o=t("VbXa"),r=t.n(o),n=t("17x9"),i=t.n(n),s=t("q1tI"),a=t.n(s),c=t("jGbM");e.a=function(e){return function(t){var o=t.displayName||t.name,n=function(o){function RedirectWrapper(){for(var e,t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return(e=o.call.apply(o,[this].concat(r))||this).state={haveRedirected:!1},e}r()(RedirectWrapper,o);var n=RedirectWrapper.prototype;return n.componentWillMount=function componentWillMount(){this.conditionallyRedirect(this.props)},n.componentWillReceiveProps=function componentWillReceiveProps(e){this.conditionallyRedirect(e)},n.conditionallyRedirect=function conditionallyRedirect(t){var o=e(t),r=o.redirectUrl,n=o.shouldRedirect;!this.state.haveRedirected&&n&&(this.setState({haveRedirected:!0}),this.context.router.push(r))},n.render=function render(){var o,r;if(e(this.props).shouldRedirect)return null;return(a.a.createElement(t,this.props))},RedirectWrapper}(a.a.Component);return n.displayName=o+"RedirectWrapper",n.contextTypes={router:i.a.object.isRequired},Object(c.a)(n,t),n}}},IMZc:function(module,exports,e){var t=e("qNWU"),o;"string"==typeof t&&(t=[[module.i,t,""]]);var r={transform:void 0},n=e("aET+")(t,r);t.locals&&(module.exports=t.locals)},Jrms:function(module,e,t){"use strict";var o=t("Z4jC"),r=t("qKZX"),n=t("O3/B"),i=t("PbQK"),s=t("GqWO"),a=t("lDAk"),c=t("2BcA"),u=t("u6zc"),l=t("13T+"),d=t("5+aF"),p=t("JacN"),m=t("abvH"),f=t("Yf05"),b=t("a+Re"),h=t("fg2g"),g=t("fX3K"),v=t("t5oi"),y=t("pVnL"),x=t.n(y),C=t("3tO9"),j=t.n(C),O=t("VbXa"),S=t.n(O),I=t("q1tI"),P=t.n(I),A=t("17x9"),R=t.n(A),T=t("MnCE"),k=t("wd/R"),N=t.n(k),w=t("kvW3"),F=t("GP6s"),M=t.n(F),D,L=function(e){function WeekStats(){return e.apply(this,arguments)||this}var t;return S()(WeekStats,e),WeekStats.prototype.render=function render(){var e=this.props,t=e.lastAnsweredAt,o=e.forumQuestionCount;return(P.a.createElement("div",{className:"rc-WeekStats caption-text color-secondary-text"},"number"==typeof o&&P.a.createElement(w.b,{message:M()("{forumQuestionCount} threads"),forumQuestionCount:o}),!!t&&P.a.createElement("span",null,"number"==typeof o&&(D||(D=P.a.createElement("span",null," Â· "))),P.a.createElement(w.b,{message:M()("Last post {timeSinceLastPost}"),timeSinceLastPost:N()(t).fromNow()}))))},WeekStats}(P.a.Component);L.propTypes={lastAnsweredAt:R.a.number,forumQuestionCount:R.a.number};var E=L,q=t("7GkZ"),W=t("9A5E"),U=t("8yDJ"),H=t("KMW/"),B=function isPersonalizationWeekRenamingEnabled(){return H.a.get("learnerRedPandas","personalizationWeekRenamingEnabled")},Y=t("IMZc"),Q,z=function(e){function DiscussionsWeekHeroUnit(){for(var t,o=arguments.length,r=new Array(o),n=0;n<o;n++)r[n]=arguments[n];return(t=e.call.apply(e,[this].concat(r))||this).goToForum=function(){var e;t.context.router.push(Object(s.q)(t.props.weekNumber))},t}var t;return S()(DiscussionsWeekHeroUnit,e),DiscussionsWeekHeroUnit.prototype.render=function render(){var e=this.props,t=e.weekNumber,o=e.isLoading,r=e.lastAnsweredAt,n=e.forumQuestionCount,i=e.title,a=e.description;if(!t)return null;return(P.a.createElement("div",{className:"rc-CalloutBox card-no-action rc-DiscussionsWeekHeroUnit"},o?Q||(Q=P.a.createElement("div",{className:"message align-horizontal-center"},P.a.createElement("i",{className:"cif-spinner cif-spin cif-2x"}))):P.a.createElement("div",{className:"horizontal-box vertical-when-mobile"},P.a.createElement("div",{className:"flex-1 left-column"},B()?P.a.createElement("p",{className:"forum-description"},M()("Discuss and ask questions about this content.")):P.a.createElement(P.a.Fragment,null,P.a.createElement("h2",{"aria-label":i,className:"card-headline-text"},i),P.a.createElement(q.a,{cml:a,className:"forum-description"})),P.a.createElement(E,{lastAnsweredAt:r,forumQuestionCount:n})),P.a.createElement("div",{className:"align-self-center"},P.a.createElement(W.b,{className:"link-button secondary cozy",href:Object(s.q)(t),trackingName:"discussions_hero_unit"},M()("Go to forum"))))))},DiscussionsWeekHeroUnit}(P.a.Component);z.propTypes={title:R.a.string.isRequired,description:U.a.isRequired,weekNumber:R.a.number,isLoading:R.a.bool,lastAnsweredAt:R.a.number,forumQuestionCount:R.a.number},z.contextTypes={router:R.a.object.isRequired};var V=z,G=t("GnyC"),J=t("emlC"),K=t("W1i5"),X=t("ngyh"),Z=t("8/1n"),ee=function(e){function DiscussionsCurrentWeekLoader(){return e.apply(this,arguments)||this}var t;return S()(DiscussionsCurrentWeekLoader,e),DiscussionsCurrentWeekLoader.prototype.render=function render(){var e=this.props,t=e.weekNumber,o=e.forum,r=e.forumStatistic;if(!t||!o)return null;return(P.a.createElement(V,{weekNumber:t,isLoading:!1,title:o.title,description:o.description,mostRecentThread:o.mostRecentThread,lastAnsweredAt:r&&r.lastAnsweredAt,forumQuestionCount:r&&r.forumQuestionCount}))},DiscussionsCurrentWeekLoader}(P.a.Component),te=Object(T.compose)(Object(d.a)({fields:["link","title","forumType","description","lastAnsweredAt","forumQuestionCount"]}),Object(J.a)(["CourseStore","CourseScheduleStore","ProgressStore"],(function(e,t){var o=e.CourseStore,r=e.CourseScheduleStore,n=e.ProgressStore,i;return{weekNumber:t.weekNumber||Object(G.a)(o,r,n)}})),Object(K.a)((function(e){var t=e.courseForums.find((function(t){return t.forumType.definition.weekNumber===e.weekNumber}));return j()(j()({},e),{},{forum:t,forumStatistic:t&&e.courseForumStatistics&&e.courseForumStatistics.find((function(e){return e.courseForumId===t.id}))})})))(ee),oe;(function(e){function FluxibleDiscussionsAppLoader(){for(var t,o=arguments.length,r=new Array(o),n=0;n<o;n++)r[n]=arguments[n];return(t=e.call.apply(e,[this].concat(r))||this).fluxibleContext=void 0,t}S()(FluxibleDiscussionsAppLoader,e);var t=FluxibleDiscussionsAppLoader.prototype;return t.componentWillMount=function componentWillMount(){var e=this.context.fluxibleContext;this.fluxibleContext=Object(Z.a)(e)},t.render=function render(){var e;return(P.a.createElement(X.a,{context:null===(e=this.fluxibleContext)||void 0===e?void 0:e.getComponentContext()},P.a.createElement(te,x()({},this.props,{isCourseWeekPage:!0}))))},FluxibleDiscussionsAppLoader}(P.a.Component)).contextTypes={fluxibleContext:R.a.object};var re=t("VkAN"),ne=t.n(re),ie=t("oJmH"),se=t("lTCR"),ae=t.n(se),ce,ue=Object(ie.graphql)(ae()(ce||(ce=ne()(['\n    mutation($helperId: String) {\n      maybeAddHelpers(action: "maybePromoteCandidateToHelper", helperId: $helperId, input: {})\n        @rest(type: "ForumHelperV1", path: "forumHelpers.v1/?{args}", method: "POST") {\n        NoResponse\n      }\n    }\n  ']))),{name:"maybeAddHelpers"}),le=t("3hlQ"),de=t("AeFk"),pe=t("6/Gu"),me=t("8Hdl"),fe=t("ZJgU"),be=t("SJ7i"),he=t("akFg"),ge=t("kmRs"),ve=t("zXDh"),ye,xe,Ce,je,Oe,Se,Ie,Pe=function(e){function DiscussionsWeekHeroUnit(){for(var t,o=arguments.length,r=new Array(o),n=0;n<o;n++)r[n]=arguments[n];return(t=e.call.apply(e,[this].concat(r))||this).goToForum=function(){var e;t.context.router.push(Object(s.q)(t.props.weekNumber))},t}var t;return S()(DiscussionsWeekHeroUnit,e),DiscussionsWeekHeroUnit.prototype.render=function render(){var e=this.props,t=e.weekNumber,o=e.isLoading,r=e.lastAnsweredAt,n=e.forumQuestionCount,i=e.title,a=e.description,c=e.theme;if(!t)return null;var u,l=Object(ve.isUserRightToLeft)()?ye||(ye=Object(de.d)(he.a,{size:"small"})):xe||(xe=Object(de.d)(ge.a,{size:"small"}));return Object(de.d)("div",{css:Object(de.c)(Ce||(Ce=ne()(["\n          padding: ",";\n          margin: 0 !important;\n        "])),c.spacing(24)),className:"card-no-action rc-DiscussionsWeekHeroUnit"},o?je||(je=Object(de.d)("div",{className:"message align-horizontal-center"},Object(de.d)("i",{className:"cif-spinner cif-spin cif-2x"}))):Object(de.d)(pe.a,{container:!0,item:!0,css:Object(de.c)(Oe||(Oe=ne()(["\n              justify-content: space-between;\n            "])))},Object(de.d)(pe.a,{item:!0},Object(de.d)(me.a,{variant:"h2semibold","aria-label":i,className:"card-headline-text"},i),Object(de.d)(q.a,{cml:a,css:Object(de.c)(Se||(Se=ne()(["\n                  margin: ",";\n                "])),c.spacing(16,0,4,0)),isCdsEnabled:!0}),Object(de.d)(E,{lastAnsweredAt:r,forumQuestionCount:n})),Object(de.d)(pe.a,{item:!0,css:Object(de.c)(Ie||(Ie=ne()(["\n                "," {\n                }\n                "," {\n                  padding: ",";\n                }\n              "])),c.breakpoints.up("sm"),c.breakpoints.down("sm"),c.spacing(24,0,0,0))},Object(de.d)(fe.a,{component:W.b,size:"medium",variant:"primary",href:Object(s.q)(t),trackingName:"discussions_hero_unit",icon:l,iconPosition:"after"},M()("Go to forum")))))},DiscussionsWeekHeroUnit}(P.a.Component);Pe.contextTypes={router:R.a.object.isRequired};var Ae=Object(be.a)(Pe),Re=function(e){function DiscussionsCurrentWeekLoader(){return e.apply(this,arguments)||this}var t;return S()(DiscussionsCurrentWeekLoader,e),DiscussionsCurrentWeekLoader.prototype.render=function render(){var e=this.props,t=e.weekNumber,o=e.forum,r=e.forumStatistic;if(!t||!o)return null;return(P.a.createElement(Ae,{weekNumber:t,isLoading:!1,title:o.title,description:o.description,lastAnsweredAt:r&&r.lastAnsweredAt,forumQuestionCount:r&&r.forumQuestionCount}))},DiscussionsCurrentWeekLoader}(P.a.Component),Te=Object(T.compose)(Object(d.a)({fields:["link","title","forumType","description","lastAnsweredAt","forumQuestionCount"]}),Object(J.a)(["CourseStore","CourseScheduleStore","ProgressStore"],(function(e,t){var o=e.CourseStore,r=e.CourseScheduleStore,n=e.ProgressStore,i;return{weekNumber:t.weekNumber||Object(G.a)(o,r,n)}})),Object(K.a)((function(e){var t=e.courseForums.find((function(t){return t.forumType.definition.weekNumber===e.weekNumber}));return j()(j()({},e),{},{forum:t,forumStatistic:t&&e.courseForumStatistics&&e.courseForumStatistics.find((function(e){return e.courseForumId===t.id}))})})))(Re),ke=function(e){function FluxibleDiscussionsAppLoader(){for(var t,o=arguments.length,r=new Array(o),n=0;n<o;n++)r[n]=arguments[n];return(t=e.call.apply(e,[this].concat(r))||this).fluxibleContext=void 0,t}S()(FluxibleDiscussionsAppLoader,e);var t=FluxibleDiscussionsAppLoader.prototype;return t.componentWillMount=function componentWillMount(){var e=this.context.fluxibleContext;this.fluxibleContext=Object(Z.a)(e)},t.render=function render(){var e;return(P.a.createElement(X.a,{context:null===(e=this.fluxibleContext)||void 0===e?void 0:e.getComponentContext()},P.a.createElement(Te,x()({},this.props,{isCourseWeekPage:!0}))))},FluxibleDiscussionsAppLoader}(P.a.Component);ke.contextTypes={fluxibleContext:R.a.object};var Ne=t("F/us"),we=t.n(Ne),Fe=t("TSYQ"),Me=t.n(Fe),De=t("L1vm"),Le=t("olxp"),Ee=t("9UIe"),qe=t("KJtU"),We=t("8cuT"),Ue=t("+LJP"),_e=t("NoGk"),He=t("NcZ8"),Be=t("yb7V"),Ye,Qe,ze=function(e){function SearchBarCoreLayout(){return e.apply(this,arguments)||this}var t;return S()(SearchBarCoreLayout,e),SearchBarCoreLayout.prototype.render=function render(){return Object(de.d)("div",null,Object(de.d)("div",{style:{display:"flex"}},Object(de.d)("span",{style:{display:"inline-block",width:"100%",maxWidth:"650px",marginBottom:"40px"}},Object(de.d)(He.b,{previousElementId:"sortOrder",nextElementId:"new-thread-btn",animateFromSearch:function animateFromSearch(){return null},animateToSearch:function animateToSearch(){return null}})),Object(de.d)("span",{style:{display:"inline-block",marginLeft:"40px"}},Ye||(Ye=Object(de.d)(Be.b,null)))),Object(de.d)("div",{style:{maxWidth:"650px"}},this.props.children))},SearchBarCoreLayout}(P.a.Component),Ve=function(e){S()(DiscussionsBody,e);var t=DiscussionsBody.prototype;function DiscussionsBody(t,o){var r;return r=e.call(this,t,o)||this,!t.isSessionsFilterStoreSetup&&t.hasModerationRole&&o.executeAction(qe.a,{courseId:t.courseId,currentSessionId:t.currentSessionId,isPrivateSession:t.isPrivateSession}),t.isSessionsFilterStoreSetup||t.hasModerationRole||o.executeAction(qe.b,{courseId:t.courseId,currentSessionId:t.currentSessionId,isPrivateSession:t.isPrivateSession}),r}return t.getChildContext=function getChildContext(){return{fluxibleContext:this.context.fluxibleContext||this.props.fluxibleContext}},t.renderSearchResults=function renderSearchResults(){var e=this.props,t=e.searchPage,o=e.q;return Object(de.d)(Ee.a,{query:o,page:t,currentForumUrl:this.context.currentForumUrl,currentForum:this.context.currentForum,pathname:this.context.pathName})},t.renderThreadsList=function renderThreadsList(){var e=this,t=this.props,o=t.hasModerationRole,r=t.listPage,n=t.listSort,i=t.listAnswered;return Object(de.d)(Le.a,{ref:function ref(t){e.threadsList=t},hasModerationRole:o,sort:n,answered:i,page:r})},t.renderThreadDetail=function renderThreadDetail(){var e=this.props.courseId,t=this.props,o=t.questionId,r=t.answerId,n=t.commentId,i=t.detailPage,s=t.detailSort;return Object(de.d)(_e.a,{answerId:r,commentId:n,questionId:o,courseId:e,forumQuestionId:o,sort:s,page:i})},t.render=function render(){var e=this.props.q,t=this.props,o=t.role,r=t.questionId;return Object(de.d)("div",x()({className:Me()("rc-ForumsV2DiscussionsBody","styleguide",this.props.className),css:Object(de.c)(Qe||(Qe=ne()(["\n          width: 100%;\n        "]))),id:"discussions-tabpanel","aria-label":M()("Discussions")},o?{role:o}:{}),r&&this.renderThreadDetail(),!r&&(e?this.renderSearchResults():this.renderThreadsList()))},DiscussionsBody}(P.a.Component);function booleanOrUndefinedFromString(e){if(/true/i.test(e))return!0;if(/false/i.test(e))return!1;return}Ve.contextTypes={router:R.a.object.isRequired,fluxibleContext:R.a.object,executeAction:R.a.func.isRequired},Ve.childContextTypes={fluxibleContext:R.a.object},Ve.defaultProps={detailSort:c.f.detailSort,detailPage:c.f.detailPage,listSort:c.f.listSort,listAnswered:c.f.listAnswered,listPage:c.f.listPage};var Ge=function getPropsFromRouter(e,t){var o=e.params,r=e.location.query,n=o.question_id||t.questionId,i=r.page?parseInt(r.page,10):1,s={answerId:o.answer_id||t.answerId,questionId:n,commentId:o.comment_id||t.commentId,sort:r.sort,answered:booleanOrUndefinedFromString(r.answered),page:i};return n?Object.assign(s,{detailSort:r.sort,detailAnswered:r.answered,detailPage:i}):r.q?Object.assign(s,{q:r.q,searchPage:i}):Object.assign(s,{listSort:r.sort,listAnswered:r.answered,listPage:i}),s},Je=Object(Ne.compose)(Object(We.a)(["SessionFilterStore","SessionStore","CourseStore","CourseMembershipStore","ApplicationStore"],(function(e){var t=e.SessionFilterStore,o=e.SessionStore,r=e.CourseStore,n=e.CourseMembershipStore,i=e.ApplicationStore;return{hasModerationRole:n.hasModerationRole()||i.isSuperuser(),isSessionsFilterStoreSetup:t.filtersLoaded,currentSessionId:o.isEnrolled()?o.getSessionId():void 0,courseId:r.getCourseId(),isPrivateSession:!!o.isEnrolled()&&o.isSessionPrivate()}})),Object(Ue.a)(Ge),De.a.createTrackedContainer((function(e){return{sort:e.sort,answered:e.answered,page:e.page}})))(Ve),Ke=function(e){function FluxibleConnectedDiscussionsBody(){for(var t,o=arguments.length,r=new Array(o),n=0;n<o;n++)r[n]=arguments[n];return(t=e.call.apply(e,[this].concat(r))||this).fluxibleContext=void 0,t}S()(FluxibleConnectedDiscussionsBody,e);var t=FluxibleConnectedDiscussionsBody.prototype;return t.componentWillMount=function componentWillMount(){var e=this.context.fluxibleContext;this.fluxibleContext=Object(Z.a)(e)},t.render=function render(){var e;return Object(de.d)(X.a,{context:null===(e=this.fluxibleContext)||void 0===e?void 0:e.getComponentContext()},Object(de.d)(Je,this.props))},FluxibleConnectedDiscussionsBody}(P.a.Component);Ke.contextTypes={fluxibleContext:R.a.object};var Xe=t("ii1C"),Ze,$e,et,tt,ot,rt,nt,it=function(e){function DiscussionsWeekHeroUnit(){for(var t,o=arguments.length,r=new Array(o),n=0;n<o;n++)r[n]=arguments[n];return(t=e.call.apply(e,[this].concat(r))||this).goToForum=function(){var e;t.context.router.push(Object(s.q)(t.props.weekNumber))},t}var t;return S()(DiscussionsWeekHeroUnit,e),DiscussionsWeekHeroUnit.prototype.render=function render(){var e=this.props,t=e.weekNumber,o=e.isLoading,r=e.lastAnsweredAt,n=e.forumQuestionCount,i=e.title,a=e.description,c=e.theme;if(!t)return null;var u=Ze||(Ze=Object(de.d)(ge.a,{size:"small"}));return Object(de.d)("div",{css:Object(de.c)($e||($e=ne()(["\n          padding: ",";\n          margin: ",";\n          overflow: auto; // allow scrollable content since this component is narrow\n        "])),c.spacing(24),c.spacing(0,0,24,0)),className:"card-no-action rc-personalization_DiscussionsWeekHeroUnit"},o?et||(et=Object(de.d)("div",{className:"message align-horizontal-center"},Object(de.d)("i",{className:"cif-spinner cif-spin cif-2x"}))):Object(de.d)(pe.a,{container:!0,css:Object(de.c)(tt||(tt=ne()(["\n              justify-content: space-between;\n            "])))},Object(de.d)(pe.a,{item:!0,css:Object(de.c)(ot||(ot=ne()(["\n                [","]: {\n                  width: 100%;\n                }\n              "])),this.props.theme.breakpoints.down("sm"))},Object(de.d)(me.a,{variant:"h2semibold","aria-label":i},i),Object(de.d)(q.a,{cml:a,css:Object(de.c)(rt||(rt=ne()(["\n                  margin: ",";\n                "])),c.spacing(16,0,8,0)),isCdsEnabled:!0}),Object(de.d)(E,{lastAnsweredAt:r,forumQuestionCount:n})),Object(de.d)(pe.a,{item:!0,css:Object(de.c)(nt||(nt=ne()(["\n                padding: ",";\n              "])),c.spacing(24,0,0,0))},Object(de.d)(fe.a,{component:W.b,size:"small",variant:"secondary",href:Object(s.q)(t),trackingName:"discussions_hero_unit",icon:u,iconPosition:"after"},M()("Go to discussion")))))},DiscussionsWeekHeroUnit}(P.a.Component);it.contextTypes={router:R.a.object.isRequired};var st=Object(be.a)(it),at=t("t7k4"),ct=function DiscussionsCurrentWeekLoader(e){var t=e.weekNumber,o=e.forum,r=e.forumStatistic,n,i=Object(I.useContext)(at.a).isTestDrivingCourse;if(!t||!o||i)return null;return(P.a.createElement(st,{weekNumber:t,isLoading:!1,title:o.title,description:o.description,lastAnsweredAt:r&&r.lastAnsweredAt,forumQuestionCount:r&&r.forumQuestionCount}))},ut=Object(T.compose)(Object(d.a)({fields:["link","title","forumType","description","lastAnsweredAt","forumQuestionCount"]}),Object(J.a)(["CourseStore","CourseScheduleStore","ProgressStore"],(function(e,t){var o=e.CourseStore,r=e.CourseScheduleStore,n=e.ProgressStore,i;return{weekNumber:t.weekNumber||Object(G.a)(o,r,n)}})),Object(K.a)((function(e){var t=e.courseForums.find((function(t){return t.forumType.definition.weekNumber===e.weekNumber}));return j()(j()({},e),{},{forum:t,forumStatistic:t&&e.courseForumStatistics&&e.courseForumStatistics.find((function(e){return e.courseForumId===t.id}))})})))(ct),lt=function(e){function FluxibleDiscussionsAppLoader(){for(var t,o=arguments.length,r=new Array(o),n=0;n<o;n++)r[n]=arguments[n];return(t=e.call.apply(e,[this].concat(r))||this).fluxibleContext=void 0,t}S()(FluxibleDiscussionsAppLoader,e);var t=FluxibleDiscussionsAppLoader.prototype;return t.componentWillMount=function componentWillMount(){var e=this.context.fluxibleContext;this.fluxibleContext=Object(Z.a)(e)},t.render=function render(){var e;return(P.a.createElement(X.a,{context:null===(e=this.fluxibleContext)||void 0===e?void 0:e.getComponentContext()},P.a.createElement(ut,x()({},this.props,{isCourseWeekPage:!0}))))},FluxibleDiscussionsAppLoader}(P.a.Component);lt.contextTypes={fluxibleContext:R.a.object};var dt=t("eJMc"),pt=t.n(dt),mt=t("oYk5"),ft=t.n(mt),bt=t("jJ30"),ht=t("QILm"),gt=t.n(ht),vt=t("6R2g"),yt=t("Iqea"),xt=t.n(yt),Ct=t("kgYC"),jt=["ariaHidden","courseRole"];function getCourseRoleIconInfo(e){var t=e.theme,o;switch(e.courseRole){case"INSTRUCTOR":return{letter:xt()("I"),css:{backgroundColor:t.palette.blue[600],color:t.palette.white}};case"COURSE_ASSISTANT":case"MENTOR":return{letter:xt()("M"),css:{backgroundColor:t.palette.purple[800],color:t.palette.white}};case"UNIVERSITY_ADMIN":case"DATA_COORDINATOR":return{letter:xt()("S"),css:{backgroundColor:t.palette.purple[800],color:t.palette.white}};case"TOP_CONTRIBUTOR":return{letter:xt()("C"),css:{backgroundColor:t.palette.purple[800],color:t.palette.white}};default:return{}}}function ProfileImageWithRole(e){var t=e.ariaHidden,o=void 0!==t&&t,r=e.courseRole,n=gt()(e,jt),i=Object(Ct.a)(),s=getCourseRoleIconInfo({courseRole:r,theme:i}),a=Me()("course-role-icon","caption-text","horizontal-box","align-items-absolute-center");return Object(de.d)("span",{css:{".rc-ProfileImage div.c-profile-image.c-profile-initials":{backgroundColor:"".concat(i.palette.blue[100]),"& p":j()({color:"".concat(i.palette.black[500])},i.typography.body1)},".course-role-icon":{borderRadius:"100%",width:"18px",height:"18px",position:"absolute","margin-left":"".concat(i.spacing(24),"px"),"margin-top":"-14px"}},className:"rc-ProfileImageWithRole"},Object(de.d)(vt.a,{fullName:e.fullName,profileImageUrl:e.profileImageUrl,alt:e.alt,ariaHidden:e.ariaHidden,width:36,height:36}),s.letter&&Object(de.d)("span",{className:a,css:s.css},s.letter))}var Ot=ProfileImageWithRole,St=t("IaEU"),It=t("UPAY"),Pt=t("q5zD"),At=t("3JZf"),Rt=t("7dcC"),Tt,kt,Nt=function(e){function MiniProfile(t){var o;return(o=e.call(this,t)||this).state={transitionContainer:!1},o.style={".rc-MiniProfile":{position:"absolute","z-index":"9999",opacity:"0","&.transition-in":{opacity:"1",transition:"opacity 0.3s ease- in"},".profile-header":{margin:"16px 12px 12px"},".profile-photo":{"margin-bottom":"12px"},".profile-footer":{padding:"12px 16px 16px"},".unavailable-state":{"text-align":"center",margin:"48px 16px"},".loading-state":{"text-align":"center",margin:"48px"},".dot-spacing":{margin:"0px 4px"},"&.profileAreaNorth":{"margin-top":"-205px"},"&.profileAreaSouth":{"margin-top":"5px"},"&.profileNameNorth":{"margin-top":"- 185px"},"&.profileNameSouth":{"margin-top":"5px"}}},o}S()(MiniProfile,e);var t=MiniProfile.prototype;return t.componentWillMount=function componentWillMount(){this.props.profile&&!we()(this.props.profile).isEmpty()||this.context.executeAction(bt.a,{externalId:this.props.externalId,courseId:this.props.courseId})},t.componentDidMount=function componentDidMount(){var e=this;this.transitionTimeout=setTimeout((function(){e.setState({transitionContainer:!0})}),100)},t.componentWillUnmount=function componentWillUnmount(){this.transitionTimeout&&clearTimeout(this.transitionTimeout)},t.hasLoaded=function hasLoaded(){return this.props.profile&&!we()(this.props.profile).isEmpty()},t.getProfileDescription=function getProfileDescription(e,t){if(Object(St.d)(e)||Object(St.e)(e))return Object(St.a)(e);return Object(St.c)(t.courseProgressPercentage,t.isCourseCompleted)},t.renderMiniProfile=function renderMiniProfile(){var e=this.props,t=e.profile,o=e.toolTipId,r=Object(St.b)(t.courseRole||this.props.courseRole,t["forumHelpers.v1"]&&t["forumHelpers.v1"].helperStatus),n=Me()("profile-footer","caption-text","color-secondary-text","bgcolor-black-g1","horizontal-box","align-items-absolute-center");return Object(de.d)(me.a,{component:"div",css:this.style,className:"vertical-box",id:o,role:"tooltip"},Object(de.d)(me.a,{className:"vertical-box profile-header align-items-vertical-center"},Object(de.d)("div",{className:"profile-photo"},Object(de.d)(Ot,{courseRole:r,fullName:t.fullName,profileImageUrl:t.photoUrl||""})),Object(de.d)(me.a,{component:"div",className:"pii-hide"},t.fullName),Object(de.d)(me.a,{component:"div",className:"caption-text",variant:"supportText"},this.getProfileDescription(r,t))),Object(de.d)(me.a,{component:"div",className:n},Object(de.d)(w.b,{message:xt()("{postsCount} {postsCount, plural, =1 { post} other { posts}}"),postsCount:t.postsCount||"0"}),Tt||(Tt=Object(de.d)("span",{className:"dot-spacing"}," Â· ")),Object(de.d)(w.b,{message:xt()("{upvotes} {upvotes, plural, =1 { upvote} other { upvotes}}"),upvotes:t.votesReceivedCount||"0"})))},t.renderProfileUnavailable=function renderProfileUnavailable(){if(this.props.profileRequested)return Object(de.d)(me.a,{component:"div",className:"unavailable-state"},Object(de.d)(w.b,{message:xt()("Profile not available")}));return kt||(kt=Object(de.d)("div",{className:"loading-state"},Object(de.d)(Pt.a,{name:"spinner",size:"3x",spin:!0})))},t.render=function render(){var e=Me()("rc-MiniProfile","card-one-clicker",this.props.orientationClass,{"transition-in":this.state.transitionContainer});return Object(de.d)("div",{className:e},this.hasLoaded()?this.renderMiniProfile():this.renderProfileUnavailable())},MiniProfile}(P.a.Component);Nt.propTypes={externalId:R.a.string.isRequired,courseId:R.a.string,courseRole:R.a.string,orientationClass:R.a.string.isRequired,profile:R.a.object,profileRequested:R.a.bool,toolTipId:R.a.string},Nt.contextTypes={executeAction:R.a.func.isRequired};var wt=we.a.compose(Object(At.a)((function(e){return Object(Rt.a)(e,(function(t){return t.registerStore(It.a),e}))})),Object(We.a)(["CourseStore","ClassmatesProfileStore"],(function(e,t){var o=e.CourseStore,r=e.ClassmatesProfileStore,n=t.externalId;return{courseId:o.getCourseId(),profile:we()(r.profiles).findWhere({externalId:n}),profileRequested:r.profilesRequested.includes(n)}})))(Nt),Ft=function(e){function MiniProfileRenderer(){for(var t,o=arguments.length,r=new Array(o),n=0;n<o;n++)r[n]=arguments[n];return(t=e.call.apply(e,[this].concat(r))||this).state={showMiniProfile:!1},t.displayTimeout=null,t.isDisplayMethodLocked=!1,t.display=function(e){if(t.isDisplayMethodLocked)return;var o=ft()(window).height()-(e.pageY-ft()(window).scrollTop())>MiniProfileRenderer.MAX_HEIGHT;t.isDisplayMethodLocked=!0,t.displayTimeout=setTimeout((function(){var e=t.props.source+(o?"South":"North");t.setState({showMiniProfile:!0,className:e})}),MiniProfileRenderer.MIN_HOVER_TIME)},t.hide=function(e){t.displayTimeout&&clearTimeout(t.displayTimeout),t.isDisplayMethodLocked=!1,t.setState({showMiniProfile:!1})},t}S()(MiniProfileRenderer,e);var t=MiniProfileRenderer.prototype;return t.componentWillUnmount=function componentWillUnmount(){this.displayTimeout&&clearTimeout(this.displayTimeout)},t.render=function render(){return this.state.showMiniProfile&&P.a.createElement(wt,{externalId:this.props.externalId,courseRole:this.props.courseRole,orientationClass:this.state.className,toolTipId:this.props.toolTipId})},MiniProfileRenderer}(P.a.Component);Ft.propTypes={externalId:R.a.string.isRequired,courseRole:R.a.string,source:R.a.string.isRequired,toolTipId:R.a.string},Ft.MAX_HEIGHT=200,Ft.MIN_HOVER_TIME=500;var Mt=Ft,Dt=t("uL/v"),Lt=function(e){function ProfileArea(t){var o;return(o=e.call(this,t)||this).profileAreaStyles=function(){return{".rc-ProfileArea .rc-ProfileImage .c-profile-initials":{backgroundColor:o.props.theme.palette.blue[100]}}},o.miniProfile=P.a.createRef(),o}var t;return S()(ProfileArea,e),ProfileArea.prototype.render=function render(){var e=this,t=this.props,o=t.externalUserId,r=t.fullName,n=t.profileImageUrl,i=t.courseRole,a=t.profile,c=t.onDisplayMiniProfile,u=t.helperStatus,l=Object(St.b)(i,u),d=Object(St.a)(l),p=void 0!==d&&"undefined"!==d,m="Name: ".concat(r,", \n                       ").concat(p?"Role: ".concat(d,", "):"","\n                       ").concat(a?"".concat(a.postsCount," posts, "):"","\n                       ").concat(a?"".concat(a.votesReceivedCount," votes"):""),f="".concat(o,"-tooltip");return P.a.createElement("span",{className:"rc-ProfileArea",css:this.profileAreaStyles()},P.a.createElement(pt.a,{className:"nostyle c-profile-image-wrapper pii-hide",to:Object(s.p)(o),onMouseEnter:function onMouseEnter(t){c&&c(e.miniProfile),"display"in e.miniProfile&&e.miniProfile.display(t)},onFocus:function onFocus(t){c&&c(e.miniProfile),"display"in e.miniProfile&&e.miniProfile.display({pageY:t.target.offsetTop})},onMouseLeave:function onMouseLeave(t){return"hide"in e.miniProfile&&e.miniProfile.hide(t)},onBlur:function onBlur(t){return"hide"in e.miniProfile&&e.miniProfile.hide(t)},onKeyDown:function onKeyDown(t){"Escape"===t.key&&"hide"in e.miniProfile&&e.miniProfile.hide(t)},"aria-label":m},P.a.createElement(Ot,{courseRole:l,profileImageUrl:n,fullName:r,alt:r})),P.a.createElement("span",{"data-js":"mini-profile","aria-hidden":"true"},P.a.createElement(Mt,{ref:function ref(t){e.miniProfile=t},source:"profileArea",externalId:o,courseRole:l,toolTipId:f})))},ProfileArea}(P.a.Component);Lt.contextTypes={router:R.a.object.isRequired,executeAction:R.a.func.isRequired};var Et=we.a.compose(Object(We.a)(["CourseStore","ClassmatesProfileStore"],(function(e,t){var o=e.CourseStore,r=e.ClassmatesProfileStore,n=t.externalUserId;return{courseId:o.getCourseId(),profile:we()(r.profiles).findWhere({externalId:n})}})))(Object(be.a)(Lt)),qt=t("xJyF"),Wt=t("i1H6"),Ut=t("cAeq"),_t=t("bJHw"),Ht,Bt,Yt,Qt,zt=function(e){function SessionFilter(t,o){var r;return(r=e.call(this,t,o)||this).handleDropdownChange=function(e,t){"ondemand"===e?r.context.executeAction(qe.d):"all"===e?r.context.executeAction(qe.c,{branchId:t}):r.context.executeAction(qe.e,{sessionId:e})},!t.loaded&&t.hasModerationRole&&o.executeAction(qe.a,{courseId:t.courseId,currentSessionId:t.currentSessionId,isPrivateSession:t.isPrivateSession}),t.loaded||t.hasModerationRole||o.executeAction(qe.b,{courseId:t.courseId,currentSessionId:t.currentSessionId,isPrivateSession:t.isPrivateSession}),r}var t;return S()(SessionFilter,e),SessionFilter.prototype.render=function render(){var e=this.props,t=e.discussionsLandingPageActive,o=e.loaded,r=e.hasModerationRole,n=e.isSessionsV2Enabled,i=e.theme;if(!t||!o||!r)return null;var s=M()("Instructors can now change the structure of the discussion forums for each version of the course to better\n        fit the material. It is still possible to view all discussions in a particular version, but no longer\n        possible to view discussions across every session."),a="session-filter-tooltip";return Object(de.d)("div",{className:"rc-personalization_SessionFilter card-rich-interaction",css:Object(de.c)(Ht||(Ht=ne()(["\n          padding: ",";\n          margin: ",";\n        "])),i.spacing(24),i.spacing(0,0,24,0))},Object(de.d)("div",null,Object(de.d)("div",{className:"horizontal-box align-items-spacebetween"},Object(de.d)("div",null,Object(de.d)("h2",{className:"label-text color-secondary-text title"},Bt||(Bt=Object(de.d)(Pt.a,{name:"lock"})),"Â ",n?M()("Filter by version and cohort"):M()("Filter by session"))),this.props.containsMultipleBranches?Object(de.d)(Ut.c,{tooltipId:a,placement:"bottom",message:s},Object(de.d)("div",{className:"label-text color-secondary-text title",role:"tooltip",tabIndex:0,"aria-label":s},Yt||(Yt=Object(de.d)(Pt.a,{name:"question-circle-o",className:"cif-lg"})))):null),Object(de.d)("p",{className:"caption-text color-secondary-text align-left"},M()("Visible to staff and mentors")),Object(de.d)(_t.a,{isSessionsV2Enabled:n,handleDropdownChange:this.handleDropdownChange})))},SessionFilter}(P.a.Component);zt.contextTypes={executeAction:R.a.func.isRequired},zt.defaultProps={forceLoad:!1};var Vt=Object(Ne.compose)(Object(We.a)(["SessionFilterStore","SessionStore","CourseStore","CourseMembershipStore","ApplicationStore"],(function(e,t){var o=e.SessionFilterStore,r=e.SessionStore,n=e.CourseStore,i=e.CourseMembershipStore,s=e.ApplicationStore;return{hasModerationRole:i.hasModerationRole()||s.isSuperuser(),loaded:o.filtersLoaded,containsMultipleBranches:!!o.containsMultipleBranches,currentSessionId:r.isEnrolled()?r.getSessionId():void 0,courseSlug:n.getCourseSlug(),courseId:n.getCourseId(),isPrivateSession:!!r.isEnrolled()&&r.isSessionPrivate()}})),Object(Wt.a)(["courseId"]),Object(qt.a)(ae()(Qt||(Qt=ne()(["\n      query PersonalizationSessionsV2AuthoringEligibilityCheckQuery($courseId: String!) {\n        SessionsV2AuthoringEligibilityCheckV1Resource {\n          get(id: $courseId) {\n            eligibleForSessionsV2\n          }\n        }\n      }\n    "]))),{options:function options(e){var t;return{variables:{courseId:e.courseId}}},props:function props(e){var t,o=e.data.SessionsV2AuthoringEligibilityCheckV1Resource;if(o){var r=o.get;return{isSessionsV2Enabled:r&&r.eligibleForSessionsV2}}return{isSessionsV2Enabled:!1}}}),Object(Ue.a)((function(e,t){return{discussionsLandingPageActive:t.forceLoad||e.isActive({pathname:"/learn/".concat(t.courseSlug,"/discussions"),query:e.location.query},!0)||e.isActive({pathname:"/learn/".concat(t.courseSlug,"/discussions/all"),query:e.location.query},!0)||e.isActive({pathname:"/learn/".concat(t.courseSlug,"/discussions/tab/foryou"),query:e.location.query},!0)||e.isActive({pathname:"/learn/".concat(t.courseSlug,"/discussions/tab/all"),query:e.location.query},!0)||e.isActive({pathname:"/learn/".concat(t.courseSlug,"/discussions/tab/myposts"),query:e.location.query},!0)}})))(Object(be.a)(zt)),Gt=t("k8aN"),Jt=t("DF7H"),Kt=t("fAYU"),Xt=t("JVW9"),Zt=t("eMx6"),$t=t("mpHW"),eo,to=ae()(eo||(eo=ne()(['\n  query GetPostsForYouQuery($input: InputVariables!) {\n    GetPostsForYouResponse(input: $input)\n      @rest(type: "GetPostsForYouResponse", path: "grpc/forum/post/v1/PostsForYouAPI/GetPostsForYou", method: "POST") {\n      postResults\n      nextPageToken\n      totalHits\n    }\n  }\n']))),oo,ro=function PostsForYouTabDataProvider(e){var t=e.courseId,o=e.currentPage,r=e.children;return(P.a.createElement(ie.Query,{query:to,variables:{input:{course_id:t,page_size:15,page_token:(15*(o-1)).toString()}}},(function(e){var t=e.loading,o=e.error,n=e.data;if(t||o)return r({loading:t,error:o});var i={postResults:[],nextPageToken:"",totalHits:"0"},s=(null==n?void 0:n.GetPostsForYouResponse)||i;return r({loading:!1,error:o,data:s})})))},no,io,so=function getThreadUrl(e){var t=e.forumPost,o=e.forumInfo,r=null==o?void 0:o.forumType,n=null==o?void 0:o.forumId,i=t.topLevelPostId;if(!r||!n)return;return"courseBranchWeekForumType"in r?Object(s.a)(Object(s.q)(r.courseBranchWeekForumType.weekNumber),i):"courseGroupRootForumType"in r?Object(s.a)(Object(s.n)(n),i):Object(s.a)(Object(s.m)(n),i)},ao=function styles(e){return Object(de.c)({listStyle:"none",padding:"".concat(e.spacing(24,0)),position:"relative",borderBottom:"1px solid ".concat(e.palette.gray[300]),"&:last-child":{borderBottom:"none"},"&.focused, &:hover, &.focused a":{textDecoration:"none"},".forReader":{height:0,width:0}})},co=function renderPost(e,t){var o,r,n=e.forumPost,i=e.creatorProfile,s=e.lastRepliedUserProfile,a=so(e),c=j()(j()({},i),{},{userId:Number(null==i?void 0:i.userId),id:null==i?void 0:i.userId,learnerId:Number(null==i?void 0:i.userId)}),u=s?j()(j()({},s),{},{userId:Number(s.userId),id:null==s?void 0:s.userId,learnerId:Number(null==s?void 0:s.userId)}):void 0;return Object(de.d)("li",{css:ao(t)},Object(de.d)($t.a,{answerCount:parseInt(n.topLevelReplyCount,10),badge:null===(o=n.badges)||void 0===o?void 0:o[0],createdAt:n.createdAtTime,creator:c,description:Object(de.d)(Zt.a,{cml:{typeName:"cml",definition:n.content.cmlContent},contentLineCountMax:2}),forumName:null==e?void 0:null===(r=e.forumInfo)||void 0===r?void 0:r.forumTitle,forumQuestionId:n.topLevelPostId,isUpvoted:n.isUpvoted,lastContributor:u||c,lastReplyDate:n.lastRepliedAtTime,pinned:n.isPinned,replyCount:parseInt(n.topLevelReplyCount,10),threadUrl:a,title:n.title,titleLink:a&&Object(de.d)(me.a,{variant:"h2semibold",className:"rc-personalization_ForumThreadCard__title"},Object(de.d)(Kt.a,{component:W.c,href:a,trackingName:"PostsForYouTab_PostLink","aria-label":"PostsForYouTab Post Link",data:{question_id:n.topLevelPostId,question_user_id:n.creatorUserId}},n.title))||void 0,upvoteCount:parseInt(n.upvoteCount,10)}))},uo=function(e){function PostsForYouTabBody(){for(var t,o=arguments.length,r=new Array(o),n=0;n<o;n++)r[n]=arguments[n];return(t=e.call.apply(e,[this].concat(r))||this).onPageChange=function(e){var o=t.context.router;o.push({pathname:o.location.pathname,params:{},query:Object.assign(o.location.query,{page:e})})},t}var t;return S()(PostsForYouTabBody,e),PostsForYouTabBody.prototype.render=function render(){var e=this,t=this.context,o=t.router,r=t.courseId,n=this.props.theme,i=o.location.query.page?parseInt(o.location.query.page,10):1;return Object(de.d)("div",{className:"rc-personalization_PostsForYouTabBody"},Object(de.d)(ro,{courseId:r,currentPage:i},(function(t){var o=t.loading,r=t.error,s=t.data;if(r)return null;if(o)return Object(de.d)(me.a,{variant:"h2semibold",css:Object(de.c)(no||(no=ne()(["\n                    margin-top: ",";\n                  "])),n.spacing(24))},M()("Loading..."));if(s){if(0===s.postResults.length)return Object(de.d)(me.a,{variant:"h2semibold",css:Object(de.c)(io||(io=ne()(["\n                      margin-top: ",";\n                    "])),n.spacing(24))},M()("No posts yet"));var a=Math.ceil(parseInt(s.totalHits,10)/15),c=a>1;return Object(de.d)(P.a.Fragment,null,Object(de.d)("div",null,s.postResults.map((function(e){return co(e,n)}))),c&&Object(de.d)(pe.a,{item:!0,xs:12,css:{justifyContent:"center"}},Object(de.d)(Xt.a,{style:{textAlign:"center",marginTop:"32px"},onClickHandler:e.onPageChange,pageCount:a,currentPage:i,maxPages:5})))}return null})))},PostsForYouTabBody}(P.a.Component);uo.contextTypes={router:R.a.object.isRequired,courseId:A.string};var lo=Object(be.a)(uo),po,mo=ae()(po||(po=ne()(['\n  query GetYourActivityQuery($input: InputVariables!) {\n    GetYourActivityResponse(input: $input)\n      @rest(type: "GetYourActivityResponse", path: "grpc/forum/post/v1/ForumPostSearchAPI/Search", method: "POST") {\n      postResults\n      nextPageToken\n      totalHits\n    }\n  }\n']))),fo,bo=function YourActivityTabDataProvider(e){var t=e.courseId,o=e.userId,r=e.currentPage,n=e.children;return(P.a.createElement(ie.Query,{query:mo,variables:{input:{course_id:t,request:{sort:"SEARCH_SORT_CREATED_AT_DESC",filter:{search_filter_type:"FILTER_TYPE_MY_POSTS_USER_ID",search_filter_value:o}},page_size:15,page_token:(15*(r-1)).toString()}}},(function(e){var t=e.loading,o=e.error,r=e.data;if(t||o)return n({loading:t,error:o});var i={postResults:[],nextPageToken:"",totalHits:"0"},s=(null==r?void 0:r.GetYourActivityResponse)||i;return n({loading:!1,error:o,data:s})})))},ho,go,vo=function getThreadUrl(e){var t=e.forumPost,o=e.forumInfo,r=null==o?void 0:o.forumType,n=null==o?void 0:o.forumId,i=t.topLevelPostId;if(!r||!n)return;return"courseBranchWeekForumType"in r?Object(s.a)(Object(s.q)(r.courseBranchWeekForumType.weekNumber),i):"courseGroupRootForumType"in r?Object(s.a)(Object(s.n)(n),i):Object(s.a)(Object(s.m)(n),i)},yo=function styles(e){return Object(de.c)({listStyle:"none",padding:"".concat(e.spacing(24,0)),position:"relative",borderBottom:"1px solid ".concat(e.palette.gray[300]),"&:last-child":{borderBottom:"none"},"&.focused, &:hover, &.focused a":{textDecoration:"none"},".forReader":{height:0,width:0}})},xo=function renderPost(e,t,o){var r,n=e.forumPost,i=e.creatorProfile,s=e.lastRepliedUserProfile,a=vo(e),c=j()(j()({},i),{},{userId:Number(null==i?void 0:i.userId),id:null==i?void 0:i.userId,learnerId:Number(null==i?void 0:i.userId)}),u=s?j()(j()({},s),{},{userId:Number(s.userId),id:null==s?void 0:s.userId,learnerId:Number(null==s?void 0:s.userId)}):void 0;return Object(de.d)("li",{css:yo(t)},Object(de.d)($t.a,{answerCount:parseInt(n.topLevelReplyCount,10),badge:null===(r=n.badges)||void 0===r?void 0:r[0],createdAt:n.createdAtTime,creator:c,description:Object(de.d)(Zt.a,{cml:{typeName:"cml",definition:n.content.cmlContent},contentLineCountMax:2}),forumName:e.forumInfo.forumTitle,forumQuestionId:n.topLevelPostId,isUpvoted:n.isUpvoted,myPostOrReplyBadgeText:(null==i?void 0:i.userId)===o?"MY_POST":"REPLIED",lastContributor:u||c,lastReplyDate:n.lastRepliedAtTime,pinned:n.isPinned,replyCount:parseInt(n.topLevelReplyCount,10),threadUrl:a,title:n.title,titleLink:a&&Object(de.d)(me.a,{variant:"h2semibold",className:"rc-personalization_ForumThreadCard__title"},Object(de.d)(Kt.a,{component:W.c,href:a,trackingName:"YourActivityTab_PostLink","aria-label":"YourActivityTab_PostLink",data:{question_id:n.topLevelPostId,question_user_id:n.creatorUserId}},n.title))||void 0,upvoteCount:parseInt(n.upvoteCount,10)}))},Co=function(e){function YourActivityTabBody(){for(var t,o=arguments.length,r=new Array(o),n=0;n<o;n++)r[n]=arguments[n];return(t=e.call.apply(e,[this].concat(r))||this).onPageChange=function(e){var o=t.context.router;o.push({pathname:o.location.pathname,params:{},query:Object.assign(o.location.query,{page:e})})},t}var t;return S()(YourActivityTabBody,e),YourActivityTabBody.prototype.render=function render(){var e=this,t=this.context,o=t.router,r=t.courseId,n=t.userId,i=this.props.theme,s=o.location.query.page?parseInt(o.location.query.page,10):1;return Object(de.d)("div",{className:"rc-personalization_YourActivityTabBody"},Object(de.d)(bo,{courseId:r,userId:n,currentPage:s},(function(t){var o=t.loading,r=t.error,a=t.data;if(r)return null;if(o)return Object(de.d)(me.a,{variant:"h2semibold",css:Object(de.c)(ho||(ho=ne()(["\n                    margin-top: ",";\n                  "])),i.spacing(24))},M()("Loading..."));if(a){if(0===a.postResults.length)return Object(de.d)(me.a,{variant:"h2semibold",css:Object(de.c)(go||(go=ne()(["\n                      margin-top: ",";\n                    "])),i.spacing(24))},M()("No posts yet"));var c=Math.ceil(parseInt(a.totalHits,10)/15),u=c>1;return Object(de.d)(P.a.Fragment,null,Object(de.d)("div",null,a.postResults.map((function(e){return xo(e,i,n)}))),u&&Object(de.d)(pe.a,{item:!0,xs:12,css:{justifyContent:"center"}},Object(de.d)(Xt.a,{style:{textAlign:"center",marginTop:"32px"},onClickHandler:e.onPageChange,pageCount:c,currentPage:s,maxPages:5})))}return null})))},YourActivityTabBody}(P.a.Component);Co.contextTypes={router:R.a.object.isRequired,courseId:A.string,userId:A.string};var jo=Object(be.a)(Co),Oo=t("wvSq");t.d(e,"q",(function(){return s.j})),t.d(e,"n",(function(){return s.c})),t.d(e,"p",(function(){return s.h})),t.d(e,"o",(function(){return s.g})),t.d(e,"s",(function(){return c.j})),t.d(e,"r",(function(){return c.i})),t.d(e,"m",(function(){return d.a})),t.d(e,"i",(function(){return h.a})),t.d(e,"u",(function(){return ue})),t.d(e,"l",(function(){return Z.a})),t.d(e,"d",(function(){return ke})),t.d(e,"b",(function(){return Ke})),t.d(e,"t",(function(){return Xe.a})),t.d(e,"c",(function(){return lt})),t.d(e,"g",(function(){return Et})),t.d(e,"j",(function(){return Vt})),t.d(e,"h",(function(){return Gt.a})),t.d(e,"e",(function(){return Jt.b})),t.d(e,"f",(function(){return lo})),t.d(e,"k",(function(){return jo})),t.d(e,"a",(function(){return Oo.a}))},S9VQ:function(module,exports,e){},WeFI:function(module,exports,e){},n8LY:function(module,e,t){"use strict";t.r(e);var o=t("VbXa"),r=t.n(o),n=t("AeFk"),i=t("q1tI"),s=t.n(i),a=t("17x9"),c=t.n(a),u=t("F/us"),l=t("ngyh"),d=t("L1vm"),p=t("1HaE"),m=t("Jrms"),f=t("KMW/"),b=t("TSYQ"),h=t.n(b),g={"python-for-applied-data-science-ai":"https://guido.us-south.cf.appdomain.cloud/","building-ai-powered-chatbots":"https://poweredai.eu-gb.mybluemix.net/","introduction-to-ai":"https://intro-ai.eu-gb.mybluemix.net/"},v=function isIBMChatbotEnabled(e){return Object.keys(g).includes(e)},y=function getIBMChatbotURL(e){return v(e)?g[e]:null},x=t("seWu"),C,j=function IBMChatbot(e){var t=e.courseSlug,o=y(t);return o&&s.a.createElement("iframe",{title:"chatbot_".concat(t),src:o,frameBorder:"0",scrolling:"no",className:h()("frame-area","rc-IBMChatbot")})},O=t("2T3l"),S=t("H4ky"),I=t("emlC"),P=t("FO9Q"),A=t("GP6s"),R=t.n(A);t.d(e,"default",(function(){return N}));var T=function CourseHomeDiscussionsPage(e){var t=e.courseName,o=e.courseSlug,r=e.children,s=R()("#{courseName} - Discussions",{courseName:t});return Object(i.useEffect)((function(){f.a.get("BlueJays","LearnerForumPendoSampleIncluded")&&Object(p.a)()}),[]),Object(n.d)("div",{className:"rc-CourseHomeDiscussionsPage"},Object(n.d)(P.a,{title:s}),v(o)&&Object(n.d)(j,{courseSlug:o}),r)};T.propTypes={courseName:c.a.string,courseSlug:c.a.string,children:c.a.node};var k=Object(u.compose)(d.a.createTrackedContainer((function(){return{namespace:{page:"discussions"}}})),Object(I.a)(["CourseStore","CourseMembershipStore","ApplicationStore"],(function(e,t){var o=e.CourseStore,r=e.CourseMembershipStore,n=e.ApplicationStore,i=r.isEnrolled()&&!r.isPreEnrolled(),s=o.getCourseId(),a=r.hasModerationRole()||n.isSuperuser(),c=i;return{courseId:s,courseSlug:o.getMetadata().get("slug"),courseName:o.getMetadata().get("name"),courseRootPath:o.getCourseRootPath(),canAccessDiscussions:!Object(O.a)(s)&&(c||a)}})),Object(S.a)((function(e){var t,o;return{redirectUrl:e.courseRootPath,shouldRedirect:!e.canAccessDiscussions}})))(T),N=function(e){function FluxibleCourseHomeDiscussionsPage(){return e.apply(this,arguments)||this}r()(FluxibleCourseHomeDiscussionsPage,e);var t=FluxibleCourseHomeDiscussionsPage.prototype;return t.componentWillMount=function componentWillMount(){this.fluxibleContext=Object(m.l)(this.context.fluxibleContext)},t.render=function render(){return Object(n.d)(l.a,{context:this.fluxibleContext.getComponentContext()},Object(n.d)(k,this.props))},FluxibleCourseHomeDiscussionsPage}(s.a.Component);N.contextTypes={fluxibleContext:c.a.object}},qNWU:function(module,exports,e){},seWu:function(module,exports,e){var t=e("S9VQ"),o;"string"==typeof t&&(t=[[module.i,t,""]]);var r={transform:void 0},n=e("aET+")(t,r);t.locals&&(module.exports=t.locals)},"uL/v":function(module,exports,e){var t=e("WeFI"),o;"string"==typeof t&&(t=[[module.i,t,""]]);var r={transform:void 0},n=e("aET+")(t,r);t.locals&&(module.exports=t.locals)}}]);
//# sourceMappingURL=83.372f3259698ac3f3de59.js.map